<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Querying the Wwise Project</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="akdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wwise SDK 2023.1.0 - Windows
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Querying the Wwise Project </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Wwise Authoring API provides a comprehensive query system allowing you to retrieve the most important aspects of the Wwise project. More specifically, it allows you to retrieve any object in the project.</p>
<p>The query system is built into the <a class="el" href="ak_wwise_core_object_get.html">ak.wwise.core.object.get</a> function. Refer to its reference documentation for more details.</p>
<p>Queries can take 2 different forms:</p><ul>
<li><b>WAQL:</b> Defines a text query using the Wwise Authoring Query Language in the 'waql' statement. Refer to <a class="el" href="waql_introduction.html">Using the Wwise Authoring Query Language (WAQL)</a> and <a class="el" href="waql_getting_started.html">Getting Started with WAQL</a>.</li>
<li><b>JSON:</b> Defines a query using the 'from' and 'transform' statements in JSON format.</li>
</ul>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Note.gif" alt="" class="inline"/></td><td><b>Note:</b> We recommend using WAQL instead of the JSON query format. WAQL provides greater functionality and coverage, has better error handling and is easier to use. </td></tr>
</table>
<h1><a class="anchor" id="waapi_waql_queries"></a>
WAQL queries</h1>
<p>WAQL queries allows to specify the entire query in one unique line of text.</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Tip.gif" alt="" class="inline"/></td><td><b>Tip:</b> WAQL queries can also be used directly inside Wwise Authoring for testing. This is especially useful to verify the query syntax and results before implementing it inside your WAAPI program or script. For example, type the following WAQL query in the Wwise toolbar or List View search fields: <div class="fragment"><div class="line">$ from type Event</div>
</div><!-- fragment --> </td></tr>
</table>
<p>Learn more about WAQL:</p><ul>
<li><a class="el" href="waql_introduction.html">Using the Wwise Authoring Query Language (WAQL)</a></li>
<li><a class="el" href="waql_reference.html">Wwise Authoring Query Language (WAQL) Reference</a></li>
</ul>
<h1><a class="anchor" id="waapi_json_queries"></a>
JSON queries</h1>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Note.gif" alt="" class="inline"/></td><td><b>Note:</b> JSON queries are not recommended. We recommend using WAQL queries instead. Refer to <a class="el" href="waql_introduction.html">Using the Wwise Authoring Query Language (WAQL)</a> and <a class="el" href="waql_getting_started.html">Getting Started with WAQL</a>. </td></tr>
</table>
<p>JSON Queries are structured into two parts:</p><ul>
<li><b>from:</b> Specifies the query starting point. This is the source from which the data is taken.</li>
<li><b>transform:</b> Specifies a series of transformations to apply to the objects. Transformations can be added in sequence.</li>
</ul>
<p>Additionally, queries take options which can specify:</p><ul>
<li><b>return:</b> Specifies what to return from the objects. If not specified, the default is ['id', 'name'].</li>
<li><b>platform:</b> Specifies the platform to use for the query. If not specified, the default is the current platform.</li>
</ul>
<h2><a class="anchor" id="waapi_query_from"></a>
from</h2>
<p>The <b>from</b> statement provides several points for the query to start:</p><ul>
<li><b>id:</b> Specifies an array of object ID (<a class="el" href="struct_g_u_i_d.html">GUID</a>). It is useful for looking up an object when you already have its ID.</li>
<li><b>name:</b> Specifies an array of object names qualified by their type, in the form of type:name. Only object types that have globally-unique names are supported. Refer to <a class="el" href="wobjects_index.html">Wwise Objects Reference</a> for available types.</li>
<li><b>search:</b> Specifies text to search in Wwise object names and notes. This uses the same search engine as the Wwise search.</li>
<li><b>path:</b> Specifies an array of paths to look up. Paths must be absolute and must start with the category name, which is equivalent to the physical folder name. For example: \Actor-Mixer Hierarchy\Default Work Unit\MySound.</li>
<li><b>ofType:</b> Specifies an array of Wwise object types. This is useful for retrieving all objects of a specific object type, such as retrieving all Game Parameters. Refer to <a class="el" href="wobjects_index.html">Wwise Objects Reference</a> for available types.</li>
</ul>
<h2><a class="anchor" id="waapi_query_transform"></a>
transform</h2>
<p>The <b>transform</b> statement provides several transformation functions that can be used to transform the objects being selected. The first transformation is applied on the objects selected by the <b>from</b> statement. The other transformations are applied on the results of the previous transformation.</p>
<p>Multiple transformations can be added in sequence.</p><ul>
<li><b>select</b> <b>parent:</b> For every object, it selects the parent of the object.</li>
<li><b>select</b> <b>children:</b> For every object, it selects the list of children of the object.</li>
<li><b>select</b> <b>descendants:</b> For every object, it selects all of the children recursively.</li>
<li><b>select</b> <b>ancestors:</b> For every object, it selects all of the parents recursively.</li>
<li><b>select</b> <b>referencesTo:</b> For every object, it selects all objects referencing the object.</li>
<li><b>where:</b> It allows to filter the results of the previous iterator. The possible criteria are:<ul>
<li><b>name:contains</b>: Case-insensitive search of text in the object name.</li>
<li><b>name:matches</b>: Case-insensitive regular expression search of the object name.</li>
<li><b>type:isIn</b>: Filters the results of the previous iterator by keeping only objects of certain types. See <a class="el" href="wobjects_index.html">Wwise Objects Reference</a> for the list of object types.</li>
<li><b>category:isIn</b>: Filters the results of the previous iterator by keeping only objects of certain categories.</li>
</ul>
</li>
<li><b>distinct:</b> Filters the results of the previous iterator by keeping only unique objects.</li>
</ul>
<h1><a class="anchor" id="waapi_query_return"></a>
Return Options</h1>
<p>The <b>return</b> expression specifies which elements of the Wwise objects to return. Any number of elements can be returned.</p>
<p>The return expression can contain:</p><ul>
<li><b>Core properties</b>: Refer to <b>OBJECT_EXPRESSION</b> and <b>VALUE_EXPRESSION</b> in <a class="el" href="waql_reference.html">Wwise Authoring Query Language (WAQL) Reference</a>.</li>
<li><b>Object properties and references</b>: Refer to <a class="el" href="wobjects_index.html">Wwise Objects Reference</a>.</li>
</ul>
<p>Two optional prefixes exist for property and reference names:</p><ul>
<li><b>'@PROPERTYNAME'</b>: Returns the value directly set on the object. This ignores the override system, and may return a value that is unused and hidden.</li>
<li><b>'@@PROPERTYNAME'</b>: Returns the value as resolved by the override system. It may return the value inherited from a parent, or the value of the object directly, if the object overrides the property.</li>
</ul>
<p>When no prefix is used, it returns the value as resolved by the override system. This is the equivalent of using the @@ prefix. We recommend not using a prefix.</p>
<p>Examples:</p><ul>
<li><b>'volume'</b>, <b>'Volume'</b>, <b>'@Volume'</b>, <b>'@@Volume'</b>: returns the volume of the object. Since the volume is not overridable, all of these are equivalent. Note that property names are case-insensitive.</li>
<li><b>'OutputBus'</b>, <b>'outputbus'</b>, <b>'@@OutputBus'</b>: returns the Output Bus as resolved by the override system (using Override Parent). This is the value being used for playback. Note that reference names are case-insensitive.</li>
<li><b>'@OutputBus'</b>: returns the Output Bus as set on the object directly. This is also the value persisted on the Work Unit for this object. This value might not be used, and could be hidden, if the object does not have the Override Parent option checked.</li>
</ul>
<p>When an expression resolves to a valid reference, it can be queried further for the referenced object's properties. For example, if the reference 'UserAuxSend0' on a Sound object references an existing Auxiliary Bus, it is possible to query a property of this Auxiliary Bus by appending a dot ('.'), followed by the property descriptor. Querying for the Attenuation of the referenced Auxiliary Bus would therefore simply be 'UserAuxSend0.Attenuation'.</p>
<p>Examples:</p><ul>
<li><b>OutputBus.name</b>: returns the name of the output bus.</li>
<li><b>parent.name</b>: returns the name of the parent object.</li>
<li><b>parent.parent.type</b>: returns the type of the grandparent object. <br  />
</li>
<li><b>OutputBus.Volume</b>: returns the volume of the output bus.</li>
<li><b>OutputBus.Attenuation.name</b>: returns the name of the output bus.</li>
<li><b>Attenuation.path</b>: returns the path of the output bus.</li>
<li><b>Effect0.id</b>: returns the id of the first insert Effect.</li>
</ul>
<p>Some objects have properties with certain capabilities, such as randomization. To retrieve values related to these capabilities, special objects bound to the properties can be queried through function-like accessors. For example, the randomizer feature is described by a Modifier object linked to certain properties of an object. This object can be queried as 'randomizer("PropertyName")', where PropertyName is the name of a property such as 'Volume'. When the accessor provides a valid reference, the object returned can be queried further as described previously. For example, the 'Max' property of the Volume randomizer can be obtained like so: 'randomizer("Volume").@Max'.</p>
<p>The list possible of accessors is as follows:</p>
<ul>
<li>randomizer</li>
</ul>
<p>If an item of the return expression is incompatible or not present in the returned object, it won't be part of the results.</p>
<ul>
<li>Refer to <a class="el" href="ak_wwise_core_object_get.html">ak.wwise.core.object.get</a> for a complete list of possible accessors.</li>
<li>Refer to <a class="el" href="wobjects_index.html">Wwise Objects Reference</a> for more information on the properties and references available.</li>
</ul>
<h1><a class="anchor" id="waapi_query_options"></a>
Other options</h1>
<p>The <a class="el" href="ak_wwise_core_object_get.html">ak.wwise.core.object.get</a> function, as well as other functions take an option object, which defines:</p><ul>
<li>the return expression (see section above)</li>
<li>the platform: the ID (guid) or name of the platform.</li>
<li>the language: the ID (guid) or name of the language.</li>
</ul>
<p>Some of the accessors are sensitive to options. For example, when retrieving a property or reference value, you can specify the platform to get the unlinked values. If the platform is not specified, the current platform is used. The language can also be specified to retrieve language specific information, such as audio source data for a Sound object. When not specified, the current language is used.</p>
<h1><a class="anchor" id="waapi_query_examples"></a>
Examples</h1>
<p>Refer to Project Code for initialization.</p>
<p>More examples can be found in <a class="el" href="ak_wwise_core_object_get.html">ak.wwise.core.object.get</a>.</p>
<p>Return the ID, name, and voice volume for a list of objects:</p>
<div class="fragment"><div class="line">from waapi <span class="keyword">import</span> WaapiClient</div>
<div class="line"><span class="keyword">import</span> pprint</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Connect (default URL)</span></div>
<div class="line">client = WaapiClient()</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Return two objects</span></div>
<div class="line">args = {</div>
<div class="line">    <span class="stringliteral">&#39;waql&#39;</span>: <span class="stringliteral">&#39;$ &quot;\\Audio Devices\\Default Work Unit\\System&quot;, &quot;{1514A4D8-1DA6-412A-A17E-75CA0C2149F3}&quot;&#39;</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">options = {</div>
<div class="line">    <span class="stringliteral">&#39;return&#39;</span>: [<span class="stringliteral">&#39;id&#39;</span>, <span class="stringliteral">&#39;name&#39;</span>, <span class="stringliteral">&#39;Volume&#39;</span>]</div>
<div class="line">}</div>
<div class="line">result = client.call(<span class="stringliteral">&quot;ak.wwise.core.object.get&quot;</span>, args, options=options)</div>
<div class="line">pprint.pprint(result)</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Disconnect</span></div>
<div class="line"><span class="preprocessor">client.disconnect()</span></div>
</div><!-- fragment --><p>Return the ID and name of every object in the Actor-Mixer Hierarchy starting with 'My', using a regular expression:</p>
<div class="fragment"><div class="line">from waapi <span class="keyword">import</span> WaapiClient</div>
<div class="line"><span class="keyword">import</span> pprint</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Connect (default URL)</span></div>
<div class="line">client = WaapiClient()</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Return all objects under the actor-mixer hierarchy with loop in the name</span></div>
<div class="line">args = {</div>
<div class="line">    <span class="stringliteral">&#39;waql&#39;</span>: <span class="stringliteral">&#39;$ &quot;\Actor-Mixer Hierarchy&quot; select descendants where name = /^My/&#39;</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">options = {</div>
<div class="line">    <span class="stringliteral">&#39;return&#39;</span>: [<span class="stringliteral">&#39;name&#39;</span>, <span class="stringliteral">&#39;id&#39;</span>]</div>
<div class="line">}</div>
<div class="line">result = client.call(<span class="stringliteral">&quot;ak.wwise.core.object.get&quot;</span>, args, options=options)</div>
<div class="line">pprint.pprint(result)</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Disconnect</span></div>
<div class="line"><span class="preprocessor">client.disconnect()</span></div>
</div><!-- fragment --><p>To learn more about WAQL, refer to <a class="el" href="waql_introduction.html">Using the Wwise Authoring Query Language (WAQL)</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</body>
</html>

