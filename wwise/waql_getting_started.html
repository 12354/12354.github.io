<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Getting Started with WAQL</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="akdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wwise SDK 2023.1.0 - Windows
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Getting Started with WAQL </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>For the purposes of this tutorial, we suggest you use the Integration Demo project, which can be found in the SDK samples after installing the SDK and a Visual Studio platform from the Audiokinetic Launcher. However, you could also use your own project, or another project from the Wwise samples, such as the Wwise Audio Lab or the Wwise Adventure Game.</p>
<p>Although WAQL can be used in various places, we recommend using the List View for this tutorial.</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Tip.gif" alt="" class="inline"/></td><td><b>Tip:</b> A brief video tutorial on WAQL usage in the List View is available. See Finding Objects using WAQL. </td></tr>
</table>
<h1><a class="anchor" id="waql_gs_filter_query"></a>
A Simple Filtering Query</h1>
<p>Type the following in the List View search field:</p>
<p><code>$ where volume &lt; 0</code></p>
<p>The first character is <b>$</b> and tells Wwise we are writing a WAQL query. This is how Wwise distinguishes between a standard text search and a WAQL query. Everything that follows the <b>$</b> defines the query itself.</p>
<p>In this example, we start the query with a <b>where</b> keyword. When starting with a <b>where</b> keyword, WAQL will automatically take every object of the project and filter the objects using the conditional statement defined after the <b>where</b>. The <b>where</b> keyword is a filter that only outputs the matching objects.</p>
<p>In summary:</p>
<p><code>$ where CONDITION</code></p>
<p>The CONDITION is a Boolean expression returning true or false. In the example above, we are comparing the volume with a numerical value. If the volume is less than zero, the query will return true. This condition will be verified on all objects of the project. The result of the query is all objects for which the volume is less than zero.</p>
<p>Additional exercises:</p>
<ul>
<li>Try different operators: &lt;=, &gt;, &gt;=, =</li>
<li>Replace <b>volume</b> by <b>pitch</b> or <b>lowpass</b></li>
<li>Try to define more complex expressions by using <b>and</b> and <b>or</b> with or without parentheses</li>
</ul>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Tip.gif" alt="" class="inline"/></td><td><b>Tip:</b> To learn about WAQL property names, refer to <a class="el" href="wobjects_index.html">Wwise Objects Reference</a>. </td></tr>
</table>
<h1><a class="anchor" id="waql_gs_string_cond"></a>
String Conditions</h1>
<p>So far, we have only used numerical conditions. Let's try a string condition:</p>
<p><code>$ where name = "hello"</code></p>
<p>String conditions compare the content of two strings. The equal operator performs a case-insensitive comparison. The condition will evaluate to true when the text is the same, regardless of the case. This is useful when you are looking for something very specific.</p>
<p>There is also a way to compare portions of strings:</p>
<p><code>$ where name : "hello"</code></p>
<p>This query uses a colon instead of an equal comparison operator. The colon defines a word search operator. It will return true when the specified word is found inside the element we are looking into. In this specific case, it will return true when "hello" is found in the name.</p>
<p>Additional exercises:</p>
<ul>
<li>Change the text for which you are searching</li>
<li>Try using the asterisk wildcard in the search text, for example, "*lo"</li>
<li>Replace <b>name</b> by <b>notes</b> or <b>outputbus</b></li>
</ul>
<h1><a class="anchor" id="waql_gs_chain_object"></a>
Chaining Object Properties</h1>
<p>There are two types of properties on Wwise objects:</p>
<ul>
<li>Properties returning a value:<ul>
<li>Volume, Pitch, Lowpass, etc: Commonly associated with a slider in Wwise, they store a numerical value. These vary depending on the object type. For example, <b>Sound</b> and <b>Random Containers</b> do not have the same set of properties.</li>
<li>Name, notes, id, path: Core elements of the Wwise object system, they often store a string value. These are found on any Wwise object.</li>
</ul>
</li>
<li>Properties returning another Wwise object (also known as references):<ul>
<li>OutputBus, Target, UserAuxSend0, Effect0: They point to another object and they vary depending on the object type. For example, <b>Events</b> and <b>Sounds</b> do not have the same properties.</li>
<li>Parent: pointer to the parent object.</li>
</ul>
</li>
</ul>
<p>It's possible to combine properties using the <b>dot</b> operator. For example:</p>
<p><code>$ where parent.name = "Music"</code></p>
<p>or</p>
<p><code>$ where parent.volume &lt; 0</code></p>
<p>It's also possible to combine several properties:</p>
<p><code>$ where outputbus.parent.name = "Master Audio Bus"</code></p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Note.gif" alt="" class="inline"/></td><td><b>Note:</b> When combining properties, make sure that properties returning a value are only found after the last dot. Properties returning another object can be located anywhere in the sequence. </td></tr>
</table>
<p>Additional exercises:</p>
<ul>
<li>Try to filter on the outputbus's volume</li>
<li>Try to filter on Effect0's pluginname</li>
</ul>
<h1><a class="anchor" id="waql_gs_diff_source"></a>
Using a Different Source</h1>
<p>So far, we have been filtering objects from the entire project. However, in some instances we may wish to focus our search on a narrower set of objects.</p>
<p>Type the following:</p>
<p><code>$ from type sound</code></p>
<p>This query will list all sound objects from the project. The <b>from</b> keyword defines a source from which to start our query. This is a very efficient way to narrow the search. WAQL will be able restrict the iteration to the specified source.</p>
<p>It's also possible to specify multiple object types:</p>
<p><code>$ from type randomsequencecontainer, switchcontainer, blendcontainer</code></p>
<p>The previous query could also be written with a filter search using the <b>where</b> keyword:</p>
<p><code>$ where type = "randomsequencecontainer" or type = "switchcontainer" or type = "blendcontainer"</code></p>
<p>However, the filtering would have to go through all project objects, including Events, busses, sounds, etc. The execution time will be slower.</p>
<p>Additional exercises:</p>
<ul>
<li>Try with other object types. Refer to <a class="el" href="wobjects_index.html">Wwise Objects Reference</a>.</li>
</ul>
<h1><a class="anchor" id="waql_gs_comb_from_and_where"></a>
Combining From and Where</h1>
<p>Type the following query:</p>
<p><code>$ from type sound where volume &lt; 0</code></p>
<p>This takes all the sound objects from the project and filters them, keeping only the sounds with a volume lower than zero.</p>
<p>While the <b>from</b> keyword can only be found at the beginning of a WAQL query, the <b>where</b> keyword can be appended after a <b>from</b>.</p>
<p>Additional exercises:</p>
<ul>
<li>Try other object types in the <b>from</b> portion</li>
<li>Try other conditions in the <b>where</b> portion</li>
<li>Try chaining multiple <b>where</b> statements</li>
</ul>
<h1><a class="anchor" id="waql_gs_from_object"></a>
From a Specific Object</h1>
<p>WAQL can narrow a query source even further.</p>
<p>Type the following in the List View:</p>
<p><code>$ from object "\Actor-Mixer Hierarchy"</code></p>
<p>This query will return a single object, by using the object path.</p>
<p>To make it more compact, WAQL also supports omitting the 'from object' part, so you can type:</p>
<p><code>$ "\Actor-Mixer Hierarchy"</code></p>
<p>This returns the specified object.</p>
<p>We can also list multiple objects:</p>
<p><code>$ "\Master-Mixer Hierarchy", "\Actor-Mixer Hierarchy"</code></p>
<p>Additional exercises:</p>
<ul>
<li>Hold the SHIFT key and right-click an object from the Project Explorer. Select <b>Copy Path(s) to clipboard</b> in the shortcut menu. Make a WAQL query from it.</li>
<li>Hold the SHIFT key and right-click multiple objects from the Project Explorer. Select <b>Copy WAQL query to clipboard</b> in the shortcut menu. Paste the query in the List View.</li>
<li>Hold the SHIFT key and right-click an object from the Project Explorer. Select <b>Copy <a class="el" href="struct_g_u_i_d.html">GUID(s)</a> to clipboard</b> in the shortcut menu. Paste the guid in the List View surrounded by double-quotes: $ "{1514A4D8-1DA6-412A-A17E-75CA0C2149F3}".</li>
<li>For Busses and Events, try using the type and the name: $ "Bus:Master Audio Bus".</li>
</ul>
<h1><a class="anchor" id="waql_gs_select_objects"></a>
Selecting Objects</h1>
<p>Now that we are able to make a WAQL query from different sources, let's try to select objects. Selecting objects allows you to obtain other objects from the initial sequence of objects.</p>
<p>Type the following query in the List View:</p>
<p><code>$ "\Actor-Mixer Hierarchy\Default Work Unit" select children</code></p>
<p>This takes the Default Work Unit and returns all direct children of it.</p>
<p>Let's try to obtain even more objects:</p>
<p><code>$ "\Actor-Mixer Hierarchy\Default Work Unit" select descendants</code></p>
<p>This time, all descendants of the Default Work Unit will be obtained in the results. The descendants include all children, taken recursively.</p>
<p>Additional exercises:</p>
<ul>
<li>Try to select parent</li>
<li>Try to select multiple elements separated with commas</li>
<li>Try adding a <b>select</b> statement to a <b>where</b> query from the first sections</li>
<li>Try adding <b>where</b> statements at the end of the select queries</li>
<li>Try to select outputbus</li>
</ul>
<h1><a class="anchor" id="waql_gs_play_events"></a>
Playing with Events</h1>
<p>Now that we have learned the basic concepts of WAQL, let's try to build concrete examples. In this example, we will try to enumerate all sounds that are referenced by an Event.</p>
<p>First, enumerate all Events from the project:</p>
<p><code>$ from type event</code></p>
<p>Then obtain the Event actions (direct children) from the Event objects:</p>
<p><code>$ from type event select children</code></p>
<p>Then obtain the targets (reference named target) of each action:</p>
<p><code>$ from type event select children select target</code></p>
<p>Then obtain the targets themselves (using the keyword <b>this</b>) and their descendants:</p>
<p><code>$ from type event select children select target select this, descendants</code></p>
<p>Finally, only keep the sound objects, by filtering on the type:</p>
<p><code>$ from type event select children select target select this, descendants where type = "sound"</code></p>
<p>Additional exercises:</p>
<ul>
<li>Instead of starting from all Events from the project, start from a specific Event.</li>
<li>Try filtering only the Play actions (excluding other types, such as Stop). Refer to <a class="el" href="wwiseobject_action.html">Action</a> to learn about action properties.</li>
</ul>
<h1><a class="anchor" id="waql_gs_play_events_reverse"></a>
Playing with Events - In Reverse</h1>
<p>Now let's try to start from the Sound objects and list all the Events that can play them:</p>
<p><code>$ from type sound</code></p>
<p>Then obtain all the sounds themselves and all their ancestors. We care about the ancestors, because they can also be referenced by the Events. For example, a parent Random Container could be the target of an Event.</p>
<p><code>$ from type sound select this, ancestors</code></p>
<p>Then obtain all objects that have a reference to what we have obtained so far:</p>
<p><code>$ from type sound select this, ancestors select referencesTo</code></p>
<p>That is basically doing a find all references (similar to the Reference view), but we need to filter it to keep only the Event actions, because other objects like SoundBanks or SoundCaster sessions could have a reference to them:</p>
<p><code>$ from type sound select this, ancestors select referencesTo where type = "action"</code></p>
<p>Finally, let's obtain the parent of each individual action, which are the Events:</p>
<p><code>$ from type sound select this, ancestors select referencesTo where type = "action" select parent</code></p>
<p>Additional exercises:</p>
<ul>
<li>Instead of starting from all sounds from the project, start from a specific sound.</li>
<li>Instead of starting from all sounds from the project, start from all objects under a specific Work Unit.</li>
<li>Try to keep only the Play actions, filtering out the other action types, like Stop.</li>
</ul>
<h1><a class="anchor" id="waql_gs_conclusion"></a>
Conclusion</h1>
<p>Let's summarize what we learned in this tutorial.</p>
<p>About the composition of a WAQL query:</p>
<ul>
<li>A query returns a sequence of Wwise objects.</li>
<li>A query can be decomposed into sections, defined by <b>from</b>, <b>where</b>, and <b>select</b> statements.</li>
<li>Each section of a query feeds the next section.</li>
<li>A query always has a source from which it starts. The source of the query is defined by a <b>from</b> statement.</li>
<li>When the <b>from</b> statement is omitted, all objects from the project are taken as the source.</li>
<li>A <b>where</b> statement allows you to filter out objects from the feeding sequence (i.e., the preceding section), keeping only those matching the condition.</li>
<li>A <b>select</b> statement allows you to obtain new objects from the feeding sequence (i.e., the preceding section).</li>
<li>The <b>where</b> and <b>select</b> statements can be appended to any sequence.</li>
</ul>
<p>About Wwise objects:</p>
<ul>
<li>Wwise objects have properties, which can be used in <b>where</b> statements or <b>select</b> statements.</li>
<li>Properties are either numerical values, Boolean, strings, or references to other objects in the project.</li>
<li>Some properties are found on any object (i.e., core properties).</li>
<li>Some properties are specific to one or many object types.</li>
<li>Properties can be combined with the dot operator.</li>
</ul>
<p>What's next? There are many more things you can do with WAQL:</p>
<ul>
<li>Refer to <a class="el" href="waql_glossary.html">Glossary</a> and <a class="el" href="waql_keywords_concepts.html">Important Keywords and Concepts</a> to continue learning about WAQL.</li>
<li>Refer to <a class="el" href="waql_reference.html">Wwise Authoring Query Language (WAQL) Reference</a> to learn about everything that's possible with WAQL.</li>
<li>Refer to <a class="el" href="wobjects_index.html">Wwise Objects Reference</a> to learn about Wwise objects and their properties.</li>
<li>Refer to <a class="el" href="ak_wwise_core_object_get.html">ak.wwise.core.object.get</a> to learn how to use WAQL in WAAPI. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</body>
</html>

