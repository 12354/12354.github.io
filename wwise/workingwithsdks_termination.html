<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Terminate the Different Modules of the Sound Engine</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="akdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wwise SDK 2023.1.0 - Windows
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Terminate the Different Modules of the Sound Engine </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="termination_intro"></a>
Introduction</h1>
<p>Once your game is ready to exit and does not require audio anymore, it's time to terminate all the modules that were initialized earlier. Our sample program uses the following function to group all of the termination code:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> TermSoundEngine()</div>
<div class="line">{</div>
<div class="line">    ... Termination will be done here ...</div>
<div class="line">}</div>
</div><!-- fragment --><p>Termination will be done in the reverse order compared to initialization.</p>
<h1><a class="anchor" id="termination_comm"></a>
Terminating Communication Module</h1>
<p>If it has been initialized, let's start by terminating the communication module:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> TermSoundEngine()</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#ifndef AK_OPTIMIZED</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Terminate Communication Services</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    AK::Comm::Term();</div>
<div class="line"><span class="preprocessor">#endif // AK_OPTIMIZED</span></div>
<div class="line"> </div>
<div class="line">    (...)</div>
<div class="line">}</div>
</div><!-- fragment --><table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Caution.gif" alt="" class="inline"/></td><td><b>Caution:</b> It is important to terminate the communication modules <em>before</em> the other modules. </td></tr>
</table>
<h1><a class="anchor" id="termination_spatialaudio"></a>
Terminating Spatial Audio</h1>
<p>If it has been initialized, Spatial Audio should be terminated before the sound engine.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> TermSoundEngine()</div>
<div class="line">{</div>
<div class="line">    (...)</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Terminate Spatial Audio</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    </div>
<div class="line">    AK::SpatialAudio::Term();</div>
<div class="line">    </div>
<div class="line">    (...)</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="termination_musicengine"></a>
Terminating the Music Engine</h1>
<p>If it has been initialized, the music engine should be terminated before the sound engine.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> TermSoundEngine()</div>
<div class="line">{</div>
<div class="line">    (...)</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Terminate the music engine</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    </div>
<div class="line">    AK::MusicEngine::Term();</div>
<div class="line">    </div>
<div class="line">    (...)</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="termination_soundengine"></a>
Terminating the Sound Engine</h1>
<p>Then move on to the sound engine itself:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> TermSoundEngine()</div>
<div class="line">{</div>
<div class="line">    (...)</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Terminate the sound engine</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    </div>
<div class="line">    AK::SoundEngine::Term();</div>
<div class="line">    </div>
<div class="line">    (...)</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="termination_streamingmgr"></a>
Terminating the Streaming Manager</h1>
<p>Next we terminate the Streaming Manager and Low-Level I/O:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> TermSoundEngine()</div>
<div class="line">{</div>
<div class="line">    (...)</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Terminate the streaming device and streaming manager</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// CAkFilePackageLowLevelIOBlocking::Term() destroys its associated streaming device </span></div>
<div class="line">    <span class="comment">// that lives in the Stream Manager, and unregisters itself as the File Location Resolver.</span></div>
<div class="line">    g_lowLevelIO.Term();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> ( AK::IAkStreamMgr::Get() )</div>
<div class="line">        AK::IAkStreamMgr::Get()-&gt;Destroy();</div>
<div class="line">    </div>
<div class="line">    (...)</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="termination_memorymgr"></a>
Terminating the Memory Manager</h1>
<p>Finally, now that all the clients of the Memory Manager have been terminated, it's time for the Memory Manager itself to go as well:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> TermSoundEngine()</div>
<div class="line">{</div>
<div class="line">    (...)</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Terminate the Memory Manager</span></div>
<div class="line">    AK::MemoryMgr::Term();</div>
<div class="line">}</div>
</div><!-- fragment --><p>Everything related to the sound engine has now been cleaned-up, and we are ready to exit the program. Next, you should move on to <a class="el" href="workingwithsdks_integratingelements.html">Integrate Wwise Elements into Your Game</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="aclass_a_k_1_1_i_ak_stream_mgr_ac650db9915bd06d5eebc1852e0d0cd6e_html_ac650db9915bd06d5eebc1852e0d0cd6e"><div class="ttname">AK::IAkStreamMgr::Get</div><div class="ttdeci">static IAkStreamMgr * Get()</div><div class="ttdef"><b>Definition:</b> IAkStreamMgr.h:735</div></div>
<div class="ttc" id="anamespace_a_k_1_1_memory_mgr_a3ec018c61b5dc7428cf51f35f290739e_html_a3ec018c61b5dc7428cf51f35f290739e"><div class="ttname">AK::MemoryMgr::Term</div><div class="ttdeci">AKSOUNDENGINE_API void Term()</div></div>
<div class="ttc" id="anamespace_a_k_1_1_comm_a94e307d2974b89cc4fbc8ab0fef20d2f_html_a94e307d2974b89cc4fbc8ab0fef20d2f"><div class="ttname">AK::Comm::Term</div><div class="ttdeci">AKSOUNDENGINE_API void Term()</div></div>
<div class="ttc" id="aclass_a_k_1_1_i_ak_stream_mgr_ab846904b7ad95752193cf0e9a288ea8a_html_ab846904b7ad95752193cf0e9a288ea8a"><div class="ttname">AK::IAkStreamMgr::Destroy</div><div class="ttdeci">virtual void Destroy()=0</div></div>
<div class="ttc" id="anamespace_a_k_1_1_sound_engine_a90f8c91937038615480db2b57ce2279e_html_a90f8c91937038615480db2b57ce2279e"><div class="ttname">AK::SoundEngine::Term</div><div class="ttdeci">AKSOUNDENGINE_API void Term()</div></div>
<div class="ttc" id="anamespace_a_k_1_1_music_engine_a4abb7df883aaea7c92695cb6c0d322ef_html_a4abb7df883aaea7c92695cb6c0d322ef"><div class="ttname">AK::MusicEngine::Term</div><div class="ttdeci">AKSOUNDENGINE_API void Term()</div></div>
</body>
</html>

