<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Creating Resource Files for Your Plug-in</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="akdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wwise SDK 2023.1.0 - Windows
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Creating Resource Files for Your Plug-in </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Resource file (with an .rc extension) describes the resources the plug-in uses to create a custom graphical interface. An easy way to manage Resource files is to use the Visual Studio Editor tool, which you can use to drag widgets onto a canvas to build the GUI. This section explains how to create a Resource file for a new plug-in.</p>
<p>Before you proceed, ensure that you are familiar with the development tools. Refer to <a class="el" href="effectplugin_tools.html">Using the Development Tools</a> for more information.</p>
<p><b>To create a Resource file:</b></p>
<ol type="1">
<li>Run the following command to create a plug-in. For the purposes of this procedure, select an "effect" type plug-in when prompted: <div class="fragment"><div class="line">python &quot;%WWISEROOT%/Scripts/Build/Plugins/wp.py&quot; new</div>
</div><!-- fragment --></li>
<li>Run the following commands to change to the plug-in directory and then call <code>premake:</code> <div class="fragment"><div class="line">cd MyPlugin</div>
<div class="line">python &quot;%WWISEROOT%/Scripts/Build/Plugins/wp.py&quot; premake Authoring</div>
</div><!-- fragment --></li>
<li>Open the generated solution file (for example, <code>MyPlugin_Authoring_Windows_vc160.sln</code>) in Visual Studio 2019.</li>
<li>In the Resource View, select the project name and in the menu bar, click <b>Project</b> &gt; <b>Add New Item</b>. The Add New Item dialog opens.</li>
<li>In the left pane, select <b>Resource</b>, then in the center pane select <b>Resource File (.rc)</b> and click <b>Add</b>. A <code>Resource.rc</code> file is created and appears under the project name in the Resource View. The file is located in the plug-in's <code>WwisePlugin</code> subdirectory.</li>
<li>In the Resource View, right-click the <code>Resource.rc</code> file and click <b>Add Resource</b>. In the Add Resource dialog, select <b>Dialog</b> and click <b>New</b>. A dialog resource is created and appears in the editing pane.</li>
<li>Set the following values in the Properties pane:<ul>
<li>Appearance/Border: <b>None</b></li>
<li>Appearance/Clip Children: <b>True</b></li>
<li>Appearance/Style: <b>Child</b></li>
<li>Misc/Control: <b>True</b></li>
<li>Misc/Control Parent: <b>True</b></li>
</ul>
</li>
<li>Drag any desired widgets from the Toolbox, located to the left of the editing pane, onto the dialog. When you are finished, click <b>Save</b>.</li>
<li>From a command prompt in your plug-in directory, run the following two commands in order: <div class="fragment"><div class="line">python &quot;%WWISEROOT%/Scripts/Build/Plugins/wp.py&quot; premake Authoring</div>
<div class="line">python &quot;%WWISEROOT%/Scripts/Build/Plugins/wp.py&quot; build -c Release -x x64 -t vc160 Authoring</div>
</div><!-- fragment --> The first command includes the <code>Resource.rc</code> file in your project, and the second creates a <code>resource.h</code> file based on the Resource file.</li>
<li>In the plug-in's <code>Win32</code> subdirectory, open the <code>PluginNamePluginGUI.h</code> file and add the following code: <div class="fragment"><div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;../MyPlugin.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;../resource.h&quot;</span></div>
<div class="line"> </div>
<div class="line">class MyPluginGUI final</div>
<div class="line">    : public AK::Wwise::Plugin::PluginMFCWindows&lt;&gt;</div>
<div class="line">    ,<a class="code" href="namespace_a_k_1_1_wwise_1_1_plugin_a5d74c88aa83c4e608fb75d1ac5555c9b.html#a5d74c88aa83c4e608fb75d1ac5555c9b"> public AK::Wwise::Plugin::GUIWindows</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    MyPluginGUI();</div>
<div class="line"> </div>
<div class="line">    HINSTANCE GetResourceHandle() const override;</div>
<div class="line"> </div>
<div class="line">    bool GetDialog(</div>
<div class="line">        AK::Wwise::Plugin::eDialog in_eDialog,</div>
<div class="line">        UINT&amp; out_uiDialogID,</div>
<div class="line">        AK::Wwise::Plugin::PopulateTableItem*&amp; out_pTable</div>
<div class="line">    ) const override;</div>
<div class="line"> </div>
<div class="line">    bool WindowProc(</div>
<div class="line">        AK::Wwise::Plugin::eDialog in_eDialog,</div>
<div class="line">        HWND in_hWnd,</div>
<div class="line">        uint32_t in_message,</div>
<div class="line">        WPARAM in_wParam,</div>
<div class="line">        LPARAM in_lParam,</div>
<div class="line">        LRESULT&amp; out_lResult</div>
<div class="line">    ) override;</div>
<div class="line"> </div>
<div class="line">private:</div>
<div class="line">    HWND m_hwndPropView = nullptr;</div>
<div class="line">};</div>
</div><!-- fragment --> This code overrides the methods provided by <code><a class="el" href="namespace_a_k_1_1_wwise_1_1_plugin_a5d74c88aa83c4e608fb75d1ac5555c9b.html#a5d74c88aa83c4e608fb75d1ac5555c9b" title="Latest version of the C++ GUIWindows interface.">AK::Wwise::Plugin::GUIWindows</a></code> and ensures that the plug-in uses the custom interface.</li>
<li>Add the following code to the <code>PluginNamePluginGUI.cpp</code> file: <div class="fragment"><div class="line">HINSTANCE MyPluginGUI::GetResourceHandle() const</div>
<div class="line">{</div>
<div class="line">    AFX_MANAGE_STATE( AfxGetStaticModuleState() );</div>
<div class="line">    return AfxGetStaticModuleState()-&gt;m_hCurrentResourceHandle;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> MyPluginGUI::GetDialog( AK::Wwise::Plugin::eDialog in_eDialog, UINT &amp; out_uiDialogID, AK::Wwise::Plugin::PopulateTableItem *&amp; out_pTable ) const</div>
<div class="line">{</div>
<div class="line">    AKASSERT( in_eDialog == AK::Wwise::Plugin::SettingsDialog );</div>
<div class="line"> </div>
<div class="line">    out_uiDialogID = IDD_DIALOG1;</div>
<div class="line">    out_pTable = nullptr;</div>
<div class="line"> </div>
<div class="line">    return true;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> MyPluginGUI::WindowProc( AK::Wwise::Plugin::eDialog in_eDialog, HWND in_hWnd, uint32_t in_message, WPARAM in_wParam, LPARAM in_lParam, LRESULT &amp; out_lResult )</div>
<div class="line">{</div>
<div class="line">    switch ( in_message )</div>
<div class="line">    {</div>
<div class="line">    case WM_INITDIALOG:</div>
<div class="line">        m_hwndPropView = in_hWnd;</div>
<div class="line">        break;</div>
<div class="line">    case WM_DESTROY:</div>
<div class="line">        m_hwndPropView = NULL;</div>
<div class="line">        break;</div>
<div class="line">    }</div>
<div class="line">    out_lResult = 0;</div>
<div class="line">    return false;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>Save your changes and rebuild the plug-in. It is now available in Wwise as an Effect, which you can add to Wwise objects. </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="anamespace_a_k_1_1_wwise_1_1_plugin_a5d74c88aa83c4e608fb75d1ac5555c9b_html_a5d74c88aa83c4e608fb75d1ac5555c9b"><div class="ttname"><a href="namespace_a_k_1_1_wwise_1_1_plugin_a5d74c88aa83c4e608fb75d1ac5555c9b.html#a5d74c88aa83c4e608fb75d1ac5555c9b">AK.Wwise::Plugin::GUIWindows</a></div><div class="ttdeci">V1::GUIWindows GUIWindows</div><div class="ttdoc">Latest version of the C++ GUIWindows interface.</div><div class="ttdef"><b>Definition:</b> <a href="_g_u_i_windows_8h_source.html#l00334">GUIWindows.h:334</a></div></div>
</body>
</html>
