<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Describing Geometry</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="akdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wwise SDK 2023.1.0 - Windows
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Describing Geometry </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="spatial_audio_apigeometry_howtopassgeometry"></a>
How to Pass Geometry to Wwise Spatial Audio</h1>
<p>The game's geometry is passed to Wwise Spatial Audio via <code>AK::SpatialAudio::SetGeometry()</code>, and is described by the <a class="el" href="struct_ak_geometry_params.html" title="Parameters passed to SetGeometry.">AkGeometryParams</a> structure. Here is a high-level view of what it consists of:</p>
<ul>
<li>Vertices (<a class="el" href="struct_ak_vertex.html" title="Vertex for a spatial audio mesh.">AkVertex</a>) are defined in an array, <code>AkGeometryParams::Vertices</code>, which is separate from the triangles, and each triangle in the triangle array <code>AkGeometryParams::Triangles</code> references indices in the vertex array.</li>
<li>Each triangle also includes an index to an <code><a class="el" href="struct_ak_acoustic_surface.html">AkAcousticSurface</a></code> structure, which defines the acoustic texture and description string.</li>
<li>The correspondence between acoustic surfaces and triangles is up to the user. For example, the user may choose to have one surface for each triangle, a single surface for all triangles, or something in between.</li>
<li>Defining acoustic surfaces is optional. If it is not desired to customize the acoustic properties of a surface, the triangles may be left as AK_INVALID_SURFACE and NULL may be passed into <code>AkGeometryParams::Surfaces</code> and <code>AkGeometryParams::NumSurfaces</code> set to zero.</li>
</ul>
<h1><a class="anchor" id="spatial_audio_apigeometry_creatingmesh"></a>
Additional Considerations</h1>
<p>Generally, any triangle mesh can be used with Wwise Spatial Audio, however there are a number of important considerations.</p>
<ul>
<li>The mesh should be as simple as possible. Acoustic calculations involve a large number of ray tracing operations and can get expensive. The smallest number of triangles that can be used to represent a scene is best.</li>
<li>All triangles are double-sided. Acoustic reflections occur off of both sides of the triangle, therefore it can be beneficial to create meshes that have no interior volume. For example, a wall could be a plane rather than a box.</li>
<li>Duplicate vertices should be â€œweldedâ€ together in order to create a continuous mesh. In other words, two connected triangles should reference the same two vertices in the vertex array. This is important for diffraction calculations, otherwise it is possible for sound to leak through the mesh.</li>
<li>All vertex coordinates are in world space.</li>
<li>Meshes that are sent to spatial audio via multiple calls to set geometry cannot reference the same vertices, and therefore are not considered connected or continuous. In this case, diffraction edges will not be generated for edges that span multiple meshes.</li>
<li>Meshes must not have any degenerate triangles. All triangles must have an area greater than zero.</li>
<li>Additional rules apply if you wish to use Geometric Diffraction with your geometry. Refer to <a class="el" href="spatial_audio_apigeometry_diffract.html">Using the Geometry API for Simulating Diffraction and Transmission</a> for more details. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</body>
</html>

