<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Frontend of an Authoring Plug-in</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="akdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wwise SDK 2023.1.0 - Windows
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Frontend of an Authoring Plug-in </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A frontend class offers platform or toolkit-specific methods that allow to implement a graphical user interface. You need to create a class derived from a frontend class such as <code>AK::Wwise::Plugin::GUIWindows</code>.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_plugin_8h.html">AK/Wwise/Plugin.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>FrontendSourcePlugin</div>
<div class="line">:   <span class="keyword">public</span> <a class="code" href="class_a_k_1_1_wwise_1_1_plugin_1_1_v1_1_1_g_u_i_windows.html">AK::Wwise::Plugin::GUIWindows</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    FrontendSourcePlugin();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// AK::Wwise::Plugin::GUIWindows</span></div>
<div class="line">    HINSTANCE GetResourceHandle() <span class="keyword">const override</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> GetDialog(</div>
<div class="line">        AK::Wwise::Plugin::eDialog in_eDialog,</div>
<div class="line">        UINT&amp; out_uiDialogID,</div>
<div class="line">        <a class="code" href="struct_a_k_1_1_wwise_1_1_plugin_1_1_populate_table_item.html">AK::Wwise::Plugin::PopulateTableItem</a>*&amp; out_pTable</div>
<div class="line">    ) <span class="keyword">const override</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> WindowProc(</div>
<div class="line">        AK::Wwise::Plugin::eDialog in_eDialog,</div>
<div class="line">        HWND in_hWnd,</div>
<div class="line">        uint32_t in_message,</div>
<div class="line">        WPARAM in_wParam,</div>
<div class="line">        LPARAM in_lParam,</div>
<div class="line">        LRESULT&amp; out_lResult</div>
<div class="line">    ) <span class="keyword">override</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> Help(HWND in_hWnd, eDialog in_eDialog) <span class="keyword">const override</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">AK_ADD_PLUGIN_CLASS_TO_CONTAINER(</div>
<div class="line">    MyPlugin,               <span class="comment">// Add to container &quot;MyPlugin&quot;</span></div>
<div class="line">    FrontendSourcePlugin,   <span class="comment">// Class to add to the container</span></div>
<div class="line">    SoundEngineSourcePlugin <span class="comment">// Sound engine plug-in to which this plug-in corresponds</span></div>
<div class="line">);</div>
</div><!-- fragment --><p>The frontend is responsible for:</p>
<ul>
<li>Providing a way for users to change the values of your plug-in's properties.</li>
<li>Displaying a GUI for the Contents Editor (sources only).</li>
<li>Displaying any monitoring data gathered from profiling during playback of your plug-in.</li>
<li>Determining what happens when a Wwise user accesses help for your plug-in.</li>
</ul>
<p>See <a class="el" href="plugin_frontend_windows.html">Implementing a Windows Frontend</a> for information on implementing a Windows frontend.</p>
<p>See <a class="el" href="wwiseplugin_dll_legal.html">Plug-in First Time Creation Notice</a> for information on adding a notice for your plug-in to be displayed at first instantiation.</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Note.gif" alt="" class="inline"/></td><td><b>Note:</b> The only Wwise Authoring platform that currently supports a graphical user interface (GUI) is Windows, which is also used on macOS by running through Crossover, a bridge layer based on the open source project Wine. </td></tr>
</table>
<h1><a class="anchor" id="wwiseplugin_dll_notifymonitordata"></a>
Monitoring in Authoring</h1>
<p>Monitoring is the process of observing the state of an audio plug-in during its playback.</p>
<p>When the Authoring application is profiling a game or playing sounds locally, Authoring plug-in instances can choose to receive monitoring data of all the playing instances that are using its parameters. It can use the monitoring data to control GUI elements such as VU meters and static text. For example, a plug-in could provide information on intermediate signal processing state for metering, or performance metrics such as the memory usage to be displayed to the user.</p>
<p>This section covers the Authoring side of monitoring. Refer to the Monitoring in the Sound Engine for details on the serialization and sending process.</p>
<h2><a class="anchor" id="fx_postmonitordata_receiving"></a>
Receiving Monitoring Data</h2>
<p>Monitoring data is received by the Authoring part of the plug-in. Here are the steps of this process:</p>
<ul>
<li><b>Receiving</b>: The Authoring part of the plug-in receives monitoring data through the method <code>AK::Wwise::Plugin::Notifications::Monitor::NotifyMonitorData()</code>, which must be implemented from the <code>AK::Wwise::Plugin::Notifications::Monitor</code> interface component. The monitoring data received is an array of <code><a class="el" href="struct_a_k_1_1_wwise_1_1_plugin_1_1_monitor_data.html">AK::Wwise::Plugin::MonitorData</a></code>. Each <code>MonitorData</code> element corresponds to a playing instance that was posted on a certain game object. This array may be filtered by the Authoring application to provide only context-relevant instances to the plug-in frontend.</li>
<li><b>Deserialization</b>: The implementation of <code>NotifyMonitorData</code> should deserialize the monitoring data to extract the information needed for each <code>MonitorData</code> instance. This information can then be used to update GUI controls that inform the user on the plug-in state.</li>
</ul>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Note.gif" alt="" class="inline"/></td><td><b>Note:</b> <code>AK::Wwise::Plugin::Notifications::Monitor::NotifyMonitorData()</code> is called on the main UI thread of the Authoring, therefore long running jobs should be avoided so as to not cause the application to become unresponsive. </td></tr>
</table>
<p>The following code example shows how to implement <code>NotifyMonitorData</code> and deserialize the monitoring data:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>FrontendSourcePlugin</div>
<div class="line">:   <span class="keyword">public</span> <a class="code" href="class_a_k_1_1_wwise_1_1_plugin_1_1_v1_1_1_g_u_i_windows.html">AK::Wwise::Plugin::GUIWindows</a></div>
<div class="line">,   <span class="keyword">public</span> <a class="code" href="class_a_k_1_1_wwise_1_1_plugin_1_1_v1_1_1_notifications_1_1_monitor.html">AK::Wwise::Plugin::Notifications::Monitor</a></div>
<div class="line">{ <span class="comment">/*...*/</span> };</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> FrontendSourcePlugin::NotifyMonitorData(</div>
<div class="line">    AkTimeMs in_iTimeStamp,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="struct_a_k_1_1_wwise_1_1_plugin_1_1_monitor_data.html">AK::Wwise::Plugin::MonitorData</a>* in_pMonitorDataArray,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> in_uMonitorDataArraySize,</div>
<div class="line">    <span class="keywordtype">bool</span> in_bIsRealtime)<span class="keyword"> override</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line">    <span class="comment">// == Deserialize the monitoring data</span></div>
<div class="line">    <span class="comment">// Using the first instance as reference for the number of channels</span></div>
<div class="line">    AkUInt32 uNumChannels = *((AkUInt32 *) in_pMonitorDataArray[0].pData);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; in_uMonitorDataArraySize; ++i)</div>
<div class="line">    {</div>
<div class="line">        AkUInt32 * pData = (AkUInt32 *) in_pMonitorDataArray[i].pData;</div>
<div class="line">        AkUInt32 uInstanceNumChannels = *pData++;</div>
<div class="line">        <span class="keywordflow">if</span> (uInstanceNumChannels != uNumChannels)</div>
<div class="line">            <span class="keywordflow">continue</span>; <span class="comment">// Different from reference, ignore</span></div>
<div class="line"> </div>
<div class="line">        AkReal32 fChannelPeaks[MAX_NUM_CHANNELS];</div>
<div class="line">        memcpy( fChannelPeaks, pData, uNumChannels * <span class="keyword">sizeof</span>( AkReal32 ) );</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Do something with the peak, e.g., update meters</span></div>
<div class="line">        ...</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>It can be challenging to support multiple <code>MonitorData</code> instances when providing metering content or per-instance statistics. To simplify requirements, you may ignore some elements from the <code>MonitoringData</code> array depending on edge cases, such as when some elements have a different speaker configuration. You may also choose to aggregate the monitoring data, such as by taking the maximum value out of the levels reported in each element when metering.</p>
<p>Object processors are a derivative of audio plug-ins that process buffers belonging to distinct objects, and so provide monitoring data for multiple objects in a single <code>MonitorData</code>. Because the monitoring data is opaque to Wwise, <code>MonitorData</code> cannot provide information on objects: it is up to the implementer of the serialization strategy to include this information in the monitoring data, if it is relevant. Moreover, this means that unlike in the Sound Engine part of the plug-in, the Authoring plug-in type is not different for an object processor and the format of the monitoring data is a contract between the Sound Engine and the Authoring part of the plug-in. For more information on object processors, refer to <a class="el" href="soundengine_plugins_objectprocessor.html">Creating Sound Engine Object Processor Plug-ins</a>.</p>
<h1><a class="anchor" id="wwiseplugin_notifications"></a>
Reacting to Changes in Wwise</h1>
<p>Some notification handler methods are provided by various services to allow your plug-in to react to context changes in Wwise. For example, you can be notified of changes to properties managed by the property set (see Property Value Notification for more details). This section describes some of those notifications that are most relevant for the frontend part of your plug-in.</p>
<h2><a class="anchor" id="wwiseplugin_platformchange"></a>
The Wwise User Changes the Current Platform</h2>
<p>When Wwise users change the current platform using a list or a keyboard shortcut, instances of your plug-in can be notified if they request the host service by deriving <code>AK::Wwise::Plugin::RequestHost</code>. Your plug-in can then implement the <code>AK::Wwise::Plugin::NotificationsHost::NotifyCurrentPlatformChanged()</code> method. This allows your dialog to adapt itself to the new current platform if it is being displayed. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="a_common_2_ak_types_8h_a8a4d0aa5dba6f9922d6b7b3e48958b24_html_a8a4d0aa5dba6f9922d6b7b3e48958b24"><div class="ttname">AkTimeMs</div><div class="ttdeci">AkInt32 AkTimeMs</div><div class="ttdoc">Time in ms.</div><div class="ttdef"><b>Definition:</b> AkTypes.h:138</div></div>
<div class="ttc" id="anamespace_a_k_1_1_wwise_1_1_plugin_a5a9328b141630d1de228c92e81e9034d_html_a5a9328b141630d1de228c92e81e9034d"><div class="ttname">AK.Wwise::Plugin::eDialog</div><div class="ttdeci">eDialog</div><div class="ttdef"><b>Definition:</b> PluginDef.h:137</div></div>
<div class="ttc" id="a_plugin_8h_html"><div class="ttname"><a href="_plugin_8h.html">Plugin.h</a></div><div class="ttdoc">Wwise Authoring Plug-ins - Main include file.</div></div>
<div class="ttc" id="aclass_a_k_1_1_wwise_1_1_plugin_1_1_v1_1_1_g_u_i_windows_a400dc71bed3f216d4c5afe2297474de1_html_a400dc71bed3f216d4c5afe2297474de1"><div class="ttname">AK.Wwise::Plugin::V1::GUIWindows::GetResourceHandle</div><div class="ttdeci">virtual HINSTANCE GetResourceHandle() const</div><div class="ttdoc">Retrieves the plug-in's HINSTANCE used for loading resources.</div><div class="ttdef"><b>Definition:</b> GUIWindows.h:263</div></div>
<div class="ttc" id="aclass_a_k_1_1_wwise_1_1_plugin_1_1_v1_1_1_g_u_i_windows_a21b81136769b185c244ada93e6767f14_html_a21b81136769b185c244ada93e6767f14"><div class="ttname">AK.Wwise::Plugin::V1::GUIWindows::GetDialog</div><div class="ttdeci">virtual bool GetDialog(eDialog in_eDialog, uint32_t &amp;out_uiDialogID, PopulateTableItem *&amp;out_pTable) const</div><div class="ttdoc">Retrieves the plug-in dialog parameters.</div><div class="ttdef"><b>Definition:</b> GUIWindows.h:280</div></div>
<div class="ttc" id="a_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98_html_afc38459f26e2b23defe588026e886a98"><div class="ttname">AkReal32</div><div class="ttdeci">float AkReal32</div><div class="ttdoc">32-bit floating point</div><div class="ttdef"><b>Definition:</b> AkNumeralTypes.h:46</div></div>
<div class="ttc" id="astruct_a_k_1_1_wwise_1_1_plugin_1_1_populate_table_item_html"><div class="ttname"><a href="struct_a_k_1_1_wwise_1_1_plugin_1_1_populate_table_item.html">AK.Wwise::Plugin::PopulateTableItem</a></div><div class="ttdef"><b>Definition:</b> PluginDef.h:126</div></div>
<div class="ttc" id="aclass_a_k_1_1_wwise_1_1_plugin_1_1_v1_1_1_g_u_i_windows_a4923a0688cfc1bca88fcd33196c897a7_html_a4923a0688cfc1bca88fcd33196c897a7"><div class="ttname">AK.Wwise::Plugin::V1::GUIWindows::Help</div><div class="ttdeci">virtual bool Help(HWND in_hWnd, eDialog in_eDialog, const char *in_szLanguageCode) const</div><div class="ttdoc">Called when the user clicks on the '?' icon.</div><div class="ttdef"><b>Definition:</b> GUIWindows.h:323</div></div>
<div class="ttc" id="aclass_a_k_1_1_wwise_1_1_plugin_1_1_v1_1_1_g_u_i_windows_html"><div class="ttname"><a href="class_a_k_1_1_wwise_1_1_plugin_1_1_v1_1_1_g_u_i_windows.html">AK.Wwise::Plugin::V1::GUIWindows</a></div><div class="ttdoc">Windows frontend plug-in API for Audio plug-ins.</div><div class="ttdef"><b>Definition:</b> GUIWindows.h:200</div></div>
<div class="ttc" id="aclass_a_k_1_1_wwise_1_1_plugin_1_1_v1_1_1_g_u_i_windows_a8ea33835cc026463f2f64b4327f89b17_html_a8ea33835cc026463f2f64b4327f89b17"><div class="ttname">AK.Wwise::Plugin::V1::GUIWindows::WindowProc</div><div class="ttdeci">virtual bool WindowProc(eDialog in_eDialog, HWND in_hWnd, uint32_t in_message, WPARAM in_wParam, LPARAM in_lParam, LRESULT &amp;out_lResult)</div><div class="ttdoc">Window message handler for dialogs.</div><div class="ttdef"><b>Definition:</b> GUIWindows.h:303</div></div>
<div class="ttc" id="a_plugin_info_generator_8h_ae72bc9efe38504b8f47686c01f5882f8_html_ae72bc9efe38504b8f47686c01f5882f8"><div class="ttname">AK_ADD_PLUGIN_CLASS_TO_CONTAINER</div><div class="ttdeci">#define AK_ADD_PLUGIN_CLASS_TO_CONTAINER(ContainerName, WwiseClassName, AudioEngineRegisteredName)</div><div class="ttdoc">(C++) Adds a Wwise Authoring plug-in and a Sound Engine plug-in to a plug-in container.</div><div class="ttdef"><b>Definition:</b> PluginInfoGenerator.h:882</div></div>
<div class="ttc" id="aclass_a_k_1_1_wwise_1_1_plugin_1_1_v1_1_1_notifications_1_1_monitor_html"><div class="ttname"><a href="class_a_k_1_1_wwise_1_1_plugin_1_1_v1_1_1_notifications_1_1_monitor.html">AK.Wwise::Plugin::V1::Notifications::Monitor</a></div><div class="ttdoc">API for Sound Engine's Monitor Data notification.</div><div class="ttdef"><b>Definition:</b> Notifications.h:105</div></div>
<div class="ttc" id="a_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce_html_a39c6c5d577901802ca77775760b704ce"><div class="ttname">AkUInt32</div><div class="ttdeci">uint32_t AkUInt32</div><div class="ttdoc">Unsigned 32-bit integer.</div><div class="ttdef"><b>Definition:</b> AkNumeralTypes.h:38</div></div>
<div class="ttc" id="astruct_a_k_1_1_wwise_1_1_plugin_1_1_monitor_data_html"><div class="ttname"><a href="struct_a_k_1_1_wwise_1_1_plugin_1_1_monitor_data.html">AK.Wwise::Plugin::MonitorData</a></div><div class="ttdef"><b>Definition:</b> PluginDef.h:89</div></div>
</body>
</html>

