<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Configuring Your Project With Premake</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="akdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wwise SDK 2023.1.0 - Windows
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Configuring Your Project With Premake </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <code>premake</code> command generates the solutions that will be used by the <code>build</code> command to build your plug-in. The default Premake configuration file generated by the <code>new</code> command works out of the box, however, further modifications will be needed to work on your plug-in. <b>The generated solutions should not be modified directly</b> as calling the <code>premake</code> command again will overwrite all changes to these files. Instead, modify the Premake configuration file. This configuration file is located at the root of your plug-in and is named <b>PremakePlugin.lua</b>.</p>
<p>Looking at the top of the <b>PremakePlugin.lua</b> file, notice a global table named <b>Plugin</b> is created. It contains the definition of the Wwise plug-in that Premake will import and use to generate the required projects and solutions. Entries of that table include the following:</p>
<ul>
<li>The <b>name</b> entry is a string that corresponds to the name of the plug-in, used as a prefix for all generated projects and solutions.</li>
<li>The <b>factoryheader</b> entry is a string corresponding to the relative path to the factory header that will be installed with the plug-in into the public include directory of the Wwise SDK.</li>
<li>The <b>appleteamid</b> entry is a string corresponding to the development team ID to set in the Signing &amp; Capabilities section of an Xcode project, which is required for signing binaries on Apple platforms.</li>
</ul>
<p>Notice how the rest of the file is divided into three similar sections. Each section contains a table with various lists of strings that are used to configure how a solution is generated:</p><ul>
<li>The <b>Plugin.sdk.static</b> table is used to configure the static SDK plug-in.</li>
<li>The <b>Plugin.sdk.shared</b> table is used to configure the shared SDK plug-in, <b>which links to the static SDK plug-in</b> (this is done under the hood by premake scripts).</li>
<li>The <b>Plugin.authoring</b> table is used to configure the Authoring plug-in, <b>which links to the static SDK plug-in</b>.</li>
</ul>
<p>Further information on how to populate each list is found in the Premake documentation:</p><ul>
<li><b>includedirs</b> -&gt; https://github.com/premake/premake-core/wiki/includedirs</li>
<li><b>files</b> -&gt; https://github.com/premake/premake-core/wiki/files</li>
<li><b>links</b> -&gt; https://github.com/premake/premake-core/wiki/links</li>
<li><b>libdirs</b> -&gt; https://github.com/premake/premake-core/wiki/libdirs</li>
<li><b>defines</b> -&gt; https://github.com/premake/premake-core/wiki/defines</li>
</ul>
<p>Once the plug-in project has been created, other commands, such as <code>premake</code>, must be called from within the project folder. Here is how to generate the solutions for Authoring on the current operating system:</p>
<div class="fragment"><div class="line">cd MyNewFX</div>
<div class="line">python &quot;%WWISEROOT%/Scripts/Build/Plugins/wp.py&quot; premake Authoring</div>
</div><!-- fragment --><p>Available platforms are:</p>
<pre class="fragment">Android, Authoring, Authoring_Windows, Authoring_Linux, Authoring_Mac, iOS, Linux, LinuxAuto, Mac, NX, PS4, PS5, QNX, tvOS, Windows_vc160, Windows_vc170, WinGC, XboxOneGC, XboxSeriesX
</pre><p>When the solutions are generated, refer to <a class="el" href="effectplugin_tools_building.html">Building Your Project for the Different Wwise Platforms</a> to build and install your plug-in in your Wwise installation.</p>
<h1><a class="anchor" id="effectplugin_tools_premake_staticauthoring"></a>
Static Authoring Configuration</h1>
<p>Even though it is not included in the generated <code>PremakePlugin.lua</code> file, there is also an optional <code>Plugin.sdk.authoringstatic</code> table. This is used for unique use cases and provides a different configuration for the static SDK plug-in that is linked to the Authoring plug-in. For example, this demonstrates how to re-use the same SDK plug-in code with a <code>FOR_AUTHORING</code> compiler define: </p><div class="fragment"><div class="line">Plugin.sdk.staticauthoring = {}</div>
<div class="line"> </div>
<div class="line">-- SDK STATIC AUTHORING PLUGIN SECTION</div>
<div class="line">Plugin.sdk.staticauthoring.includedirs = Plugin.sdk.static.includedirs</div>
<div class="line">Plugin.sdk.staticauthoring.files = Plugin.sdk.static.files</div>
<div class="line">Plugin.sdk.staticauthoring.excludes = Plugin.sdk.static.excludes</div>
<div class="line">Plugin.sdk.staticauthoring.links = Plugin.sdk.static.links</div>
<div class="line">Plugin.sdk.staticauthoring.libdirs = Plugin.sdk.static.libdirs</div>
<div class="line">Plugin.sdk.staticauthoring.defines = table.join(Plugin.sdk.static.defines, { <span class="stringliteral">&quot;FOR_AUTHORING&quot;</span> })</div>
</div><!-- fragment --><h1><a class="anchor" id="effectplugin_tools_advancedpremakeconfig"></a>
Advanced Premake Configuration</h1>
<p>Notice how configuring a project is fairly straightforward since most of the Premake code is hidden in the configuration table. For a more advanced configuration, add a <code>custom</code> field to any of the following configuration sections: </p><div class="fragment"><div class="line">Plugin.sdk.static.custom = <span class="keyword">function</span>()</div>
<div class="line">    -- put your Premake code here</div>
<div class="line">end</div>
<div class="line">Plugin.sdk.shared.custom = <span class="keyword">function</span>()</div>
<div class="line">    -- put your Premake code here</div>
<div class="line">end</div>
<div class="line">Plugin.authoring.custom = <span class="keyword">function</span>()</div>
<div class="line">    -- put your Premake code here</div>
<div class="line">end</div>
</div><!-- fragment --><p>Next section: <a class="el" href="effectplugin_tools_building.html">Building Your Project for the Different Wwise Platforms</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</body>
</html>

