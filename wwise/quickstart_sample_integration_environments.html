<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Quick Start Sample Integration - Environments and Game-defined Auxiliary Sends</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="akdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wwise SDK 2023.1.0 - Windows
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Quick Start Sample Integration - Environments and Game-defined Auxiliary Sends </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="quickstart_sample_integration_environments_example_effect"></a>
Environmental Effect Example</h1>
<p>First the user must create Auxiliary busses in the Wwise project that will represent the environments, one aux bus per environment. The option "Use game-defined auxiliary sends" must have been set in the object properties or in the object it inherits its properties from for sounds that should use this feature. For the game to use these parameter sets, the effect in question must be registered in the sound engine. You do this in exactly the same way you register other effect plug-ins (see Plug-in Example for more details), as demonstrated in the following example:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_ak_sound_engine_8h.html">AK/SoundEngine/Common/AkSoundEngine.h</a>&gt;</span>                <span class="comment">// Sound Engine</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_ak_room_verb_f_x_factory_8h.html">AK/Plugin/AkRoomVerbFXFactory.h</a>&gt;</span>                      <span class="comment">// Effect initialization functions</span></div>
<div class="line"> </div>
<div class="line">(...)</div>
<div class="line">AK::InitAkRoomVerbFX(AK::SoundEngine::GetGlobalPluginContext());</div>
</div><!-- fragment --><p>To allow the initialization functions to be found at link time, your C++ project must link with the appropriate plug-in library. Refer to <a class="el" href="libraries.html">Overview of Libraries and Header Files Contained in the SDK</a> for more information on libraries.</p>
<div class="fragment"><div class="line"><span class="comment">// In this example we hardcode the 3 values for Dry, Hangar, and Tunnel. In</span></div>
<div class="line"><span class="comment">// a game you would compute these values based on the game object&#39;s position</span></div>
<div class="line"><span class="comment">// in its environment.</span></div>
<div class="line">AkReal32 nDryRatio      = 0.5f;</div>
<div class="line">AkReal32 nHangarRatio   = 0.25f;</div>
<div class="line">AkReal32 nTunnelRatio   = 0.25f;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="struct_ak_aux_send_value.html">AkAuxSendValue</a> aEnvs[2];</div>
<div class="line">aEnvs[0].listenerID = AK_INVALID_GAME_OBJECT; <span class="comment">// Use the same set of listeners assigned via the SetListeners/SetDefaultListeners API.</span></div>
<div class="line">aEnvs[0].auxBusID = AK::SoundEngine::GetIDFromString( L<span class="stringliteral">&quot;Hangar&quot;</span> );</div>
<div class="line">aEnvs[0].fControlValue = nHangarRatio;</div>
<div class="line">aEnvs[1].listenerID = AK_INVALID_GAME_OBJECT; <span class="comment">// Use the same set of listeners assigned via the SetListeners/SetDefaultListeners API.</span></div>
<div class="line">aEnvs[1].auxBusID = AK::SoundEngine::GetIDFromString( L<span class="stringliteral">&quot;Tunnel&quot;</span> );</div>
<div class="line">aEnvs[1].fControlValue = nTunnelRatio;</div>
<div class="line"> </div>
<div class="line">AK::SoundEngine::SetGameObjectOutputBusVolume( GAME_OBJECT_ID_HUMAN, nDryRatio );</div>
<div class="line">AK::SoundEngine::SetGameObjectAuxSendValues( GAME_OBJECT_ID_HUMAN, aEnvs, 2 );</div>
</div><!-- fragment --><p>Refer to <a class="el" href="soundengine_environments.html">Integration Details - Environments and Game-defined Auxiliary Sends</a> for information on the meaning of these ratios.</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Note.gif" alt="" class="inline"/></td><td><b>Note:</b> The names passed to AK::SoundEngine::GetIDFromString() are the names of the Auxiliary busses as defined in Wwise. Refer to Using IDs or Strings (Unicode or ANSI) for more information. </td></tr>
</table>
<p>In the sample program you can experiment with Environments by moving the first three sliders in the "Environments: Footsteps" group, which let you set the ratio (0% on the left, to 100% on the right) for Dry, Hangar, and Tunnel environments.</p>
<p>Refer to <a class="el" href="soundengine_environments.html">Integration Details - Environments and Game-defined Auxiliary Sends</a> for more details, and to <a class="el" href="soundengine_integration_samplecode.html">Integration Demo Sample</a> for the sample project.</p>
<h1><a class="anchor" id="quickstart_sample_integration_environments_example_obsocc"></a>
Obstruction/Occlusion Example</h1>
<p>Obstruction and occlusion can be computed for each game object relative to each listener, as it depends on the environment and positions of game objects and listeners.</p>
<p>Setting obstruction and occlusion is done by calling AK::SoundEngine::SetObjectObstructionAndOcclusion() as demonstrated here:</p>
<div class="fragment"><div class="line"><span class="comment">// In this example we use hardcoded values for obstruction and occlusion. In a game you need</span></div>
<div class="line"><span class="comment">// to compute these values based on the position of the game object and the listener, and</span></div>
<div class="line"><span class="comment">// the composition of their environments.</span></div>
<div class="line">AkReal32 fObstruction = 0.05f;</div>
<div class="line">AkReal32 fOcclusion   = 0.0f;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// In this case we compute and set the values for Listener 0 only. If you have multiple listeners,</span></div>
<div class="line"><span class="comment">// the values must be computed and set for each listener independently.</span></div>
<div class="line">AK::SoundEngine::SetObjectObstructionAndOcclusion( GAME_OBJECT_ID_HUMAN, 0 <span class="comment">/*listener*/</span>, fObstruction, fOcclusion );</div>
</div><!-- fragment --><p>In the sample program you can experiment with Obstruction and Occlusion by moving the last two sliders in the "Environments: Footsteps" group which let you set the ratio (0 to 100%) for obstruction and occlusion.</p>
<p>Refer to <a class="el" href="soundengine_obsocc.html">Obstruction and Occlusion with game-defined auxiliary sends</a> for more details, and to <a class="el" href="soundengine_integration_samplecode.html">Integration Demo Sample</a> for the sample project.</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Note.gif" alt="" class="inline"/></td><td><b>Note:</b> This sample code comes from the Sound Engine Integration Sample Project available in the <a class="el" href="samplecode.html">Samples</a> section. Refer to <a class="el" href="soundengine_integration_samplecode.html">Integration Demo Sample</a> for more information. </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="astruct_ak_aux_send_value_a1e3fe0e1490d0e15af8a46d8ab4078f4_html_a1e3fe0e1490d0e15af8a46d8ab4078f4"><div class="ttname">AkAuxSendValue::fControlValue</div><div class="ttdeci">AkReal32 fControlValue</div><div class="ttdef"><b>Definition:</b> AkTypes.h:950</div></div>
<div class="ttc" id="a_ak_sound_engine_8h_html"><div class="ttname"><a href="_ak_sound_engine_8h.html">AkSoundEngine.h</a></div></div>
<div class="ttc" id="astruct_ak_aux_send_value_html"><div class="ttname"><a href="struct_ak_aux_send_value.html">AkAuxSendValue</a></div><div class="ttdoc">Auxiliary bus sends information per game object per given auxiliary bus.</div><div class="ttdef"><b>Definition:</b> AkTypes.h:947</div></div>
<div class="ttc" id="a_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98_html_afc38459f26e2b23defe588026e886a98"><div class="ttname">AkReal32</div><div class="ttdeci">float AkReal32</div><div class="ttdoc">32-bit floating point</div><div class="ttdef"><b>Definition:</b> AkNumeralTypes.h:46</div></div>
<div class="ttc" id="anamespace_a_k_1_1_sound_engine_a1b3e18a25b405e55ba82de9b70cd11ba_html_a1b3e18a25b405e55ba82de9b70cd11ba"><div class="ttname">AK::SoundEngine::SetObjectObstructionAndOcclusion</div><div class="ttdeci">AKSOUNDENGINE_API AKRESULT SetObjectObstructionAndOcclusion(AkGameObjectID in_EmitterID, AkGameObjectID in_ListenerID, AkReal32 in_fObstructionLevel, AkReal32 in_fOcclusionLevel)</div></div>
<div class="ttc" id="anamespace_a_k_1_1_sound_engine_af960fca0239e219b9d08c2659fe9e5d4_html_af960fca0239e219b9d08c2659fe9e5d4"><div class="ttname">AK::SoundEngine::SetGameObjectAuxSendValues</div><div class="ttdeci">AKSOUNDENGINE_API AKRESULT SetGameObjectAuxSendValues(AkGameObjectID in_gameObjectID, AkAuxSendValue *in_aAuxSendValues, AkUInt32 in_uNumSendValues)</div></div>
<div class="ttc" id="anamespace_a_k_1_1_sound_engine_a1aae6ebdec25946fb2897ce0e025366d_html_a1aae6ebdec25946fb2897ce0e025366d"><div class="ttname">AK::SoundEngine::GetIDFromString</div><div class="ttdeci">AKSOUNDENGINE_API AkUInt32 GetIDFromString(const char *in_pszString)</div></div>
<div class="ttc" id="anamespace_a_k_1_1_sound_engine_adf1401ce64872af26cdff05b36e98161_html_adf1401ce64872af26cdff05b36e98161"><div class="ttname">AK::SoundEngine::SetGameObjectOutputBusVolume</div><div class="ttdeci">AKSOUNDENGINE_API AKRESULT SetGameObjectOutputBusVolume(AkGameObjectID in_emitterObjID, AkGameObjectID in_listenerObjID, AkReal32 in_fControlValue)</div></div>
<div class="ttc" id="a_ak_room_verb_f_x_factory_8h_html"><div class="ttname"><a href="_ak_room_verb_f_x_factory_8h.html">AkRoomVerbFXFactory.h</a></div></div>
<div class="ttc" id="a_common_2_ak_types_8h_a82290a98a9cf7901722a69a590aeee34_html_a82290a98a9cf7901722a69a590aeee34"><div class="ttname">AK_INVALID_GAME_OBJECT</div><div class="ttdeci">static const AkGameObjectID AK_INVALID_GAME_OBJECT</div><div class="ttdoc">Invalid game object (may also mean all game objects)</div><div class="ttdef"><b>Definition:</b> AkTypes.h:176</div></div>
<div class="ttc" id="astruct_ak_aux_send_value_a185a87e879e5a602446b07252bdd8519_html_a185a87e879e5a602446b07252bdd8519"><div class="ttname">AkAuxSendValue::listenerID</div><div class="ttdeci">AkGameObjectID listenerID</div><div class="ttdoc">Game object ID of the listener associated with this send. Use AK_INVALID_GAME_OBJECT as a wildcard to...</div><div class="ttdef"><b>Definition:</b> AkTypes.h:948</div></div>
<div class="ttc" id="anamespace_a_k_1_1_sound_engine_a3fa34f66e9111147d8c4c0f5ba1f2175_html_a3fa34f66e9111147d8c4c0f5ba1f2175"><div class="ttname">AK::SoundEngine::GetGlobalPluginContext</div><div class="ttdeci">AKSOUNDENGINE_API AK::IAkGlobalPluginContext * GetGlobalPluginContext()</div></div>
<div class="ttc" id="astruct_ak_aux_send_value_a985acf05c92308c7569dd4a91a3e4256_html_a985acf05c92308c7569dd4a91a3e4256"><div class="ttname">AkAuxSendValue::auxBusID</div><div class="ttdeci">AkAuxBusID auxBusID</div><div class="ttdoc">Auxiliary bus ID.</div><div class="ttdef"><b>Definition:</b> AkTypes.h:949</div></div>
</body>
</html>

