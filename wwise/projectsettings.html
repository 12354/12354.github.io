<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Defining C++ Project Settings</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="akdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wwise SDK 2023.1.0 - Windows
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Defining C++ Project Settings </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="soundengine_integration_cppprojectsettings_various_cpp14"></a>
C++14 Compiler Requirements</h1>
<p>The Wwise SDK headers require a valid C++14 (or later) compiler. Make sure your compiler can parse C++14 code. See <a class="el" href="reference_platform.html">Platform Requirements</a> for a list of supported compilers.</p>
<h1><a class="anchor" id="soundengine_integration_cppprojectsettings_release_config"></a>
Release Configuration Settings</h1>
<p>For optimization purposes, the release configuration of your project has slightly different requirements than the development configuration.</p>
<h2><a class="anchor" id="soundengine_integration_cppprojectsettings_various_optimized"></a>
Define AK_OPTIMIZED Symbol</h2>
<p>You must define the <code>AK_OPTIMIZED</code> symbol in the release configuration of your project (it might be called "Ship", "Retail", or something similar in the configuration used to build the retail version of your game).</p>
<p>This symbol is used in various places to avoid compiling unnecessary code in the release version.</p>
<h2><a class="anchor" id="soundengine_integration_cppprojectsettings_various_comm"></a>
Exclude Communication Code</h2>
<p>The Wwise sound engine lets you enable communication between Wwise and your game so the Wwise user can perform in-game mixing and profiling. However, this communication is not available in the release configuration for performance reasons.</p>
<p>If you enable communication in your game, exclude the code from the release version of your game by surrounding it with <code>#ifndef</code> AK_OPTIMIZED / <code>#endif</code>.</p>
<h1><a class="anchor" id="soundengine_integration_cppprojectsettings_windows"></a>
Windows-Specific Considerations</h1>
<p>The recommendations and requirements in this section apply to development on Windows only.</p>
<h2><a class="anchor" id="soundengine_integration_cppprojectsettings_various_wchar_t"></a>
Using wchar_t</h2>
<p>If you call one or many Wwise sound engine functions that use the <b>wchar_t</b> type, you need to enable the "Treat wchar_t as Built-in type" option in your project's settings to ensure proper linking to the sound engine libraries. To do so, go to Configuration Properties &gt; C/C++ &gt; Language, and set "Treat wchar_t as Built-in Type" to "Yes". This sets the "/Zc:wchar_t" compile flag.</p>
<p>However, this is not required if you do not call any of the functions of the sound engine that use the <b>wchar_t</b> type. Note that all these functions have counterparts that use the <b>char</b> type instead.</p>
<p>If you call a function that uses <b>wchar_t</b>, but do not enable the "Treat wchar_t as Built-in Type" setting in your project, you will receive a link error similar to this one: <em>unresolved external symbol "enum AKRESULT __cdecl AK::SoundEngine::LoadBank(unsigned short const *,long,unsigned long &amp;)"</em>, because the compiler incorrectly interprets the function AK::SoundEngine::LoadBank(const wchar_t *,long,unsigned long &amp;) as AK::SoundEngine::LoadBank(unsigned short const *,long,unsigned long &amp;).</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Warning.gif" alt="" class="inline"/></td><td><p class="starttd"><b>Warning:</b> We recommend that you enable the "Treat wchar_t as Built-in Type" setting in your project. If you do not want to enable it, please read the following.</p>
<p class="intertd">Pay special attention to the <b>AkOSChar</b> type, which has a typedef of <b>wchar_t</b> on some platforms. This type is used with methods that involve disk I/O. More specifically, it is used by the Stream Manager (<a class="el" href="class_a_k_1_1_i_ak_stream_mgr.html">AK::IAkStreamMgr</a>) and Low-Level I/O (<a class="el" href="class_a_k_1_1_stream_mgr_1_1_i_ak_low_level_i_o_hook.html">AK::StreamMgr::IAkLowLevelIOHook</a>) interfaces.</p>
<p class="intertd">If Audiokinetic's default Stream Manager is used as your I/O manager throughout your game, you must enable the "Treat wchar_t as Built-in Type" setting on platforms where <b>AkOSChar</b> have a typedef of <b>wchar_t</b>. Typically, though, the Wwise sound engine is the only client of the Stream Manager. In such a case it is not necessary to enable the "Treat wchar_t as Built-in Type" setting in your project.</p>
<p class="intertd">The "Treat wchar_t as Built-in Type" setting does not cause problems with the Low-Level I/O API because you don't typically <em>call</em> it, but <em>implement</em> it instead.</p>
<p class="intertd">Note that the File Package Low-Level I/O sample (see <a class="el" href="samplecode.html#samplecode_integration_filepackagelowlevelio">File Package Low-Level I/O Implementation</a>) calls some methods of the sound engine that use the <b>wchar_t</b> type when <b>AkOSChar</b> has a typedef of <b>wchar_t</b>. If you want to use this sample in your project without enabling the "Treat wchar_t as Built-in Type" setting, you must modify some parts of it to convert <b>wchar_t</b> strings into <b>char</b> strings wherever it is necessary. You can use the <a class="el" href="namespace_a_k_p_l_a_t_f_o_r_m_a79c12f8f0710c4772f99b341006af233.html#a79c12f8f0710c4772f99b341006af233" title="String conversion helper. If io_pszAnsiString is null, the function returns the required size.">AKPLATFORM::AkWideCharToChar()</a> helper to do so. It is defined in <a class="el" href="_common_2_ak_platform_funcs_8h.html">AK/Tools/Common/AkPlatformFuncs.h</a>.</p>
<p class="endtd">For more information on how to integrate Wwise I/O, refer to <a class="el" href="streamingdevicemanager.html">Streaming / Stream Manager</a>. </p>
</td></tr>
</table>
<h2><a class="anchor" id="soundengine_integration_cppprojectsettings_various_AKSOUNDENGINE_DLL"></a>
Single DLL Requirements</h2>
<p>In a Windows game, if you are using a DLL to wrap everything that is related to the Wwise sound engine, such as the sample AkSoundEngineDLL project (see below), you need to define AKSOUNDENGINE_DLL in the project that depends on it (game executable or another DLL) to correctly import the symbols of the sound engine API.</p>
<p>Projects that link statically with the Wwise sound engine's libraries must not define AKSOUNDENGINE_DLL.</p>
<h2><a class="anchor" id="soundengine_integration_cppprojectsettings_various_aksoundenginedll"></a>
AkSoundEngineDLL Sample Project</h2>
<p>This Sound Engine Integration Walkthrough guides you through a basic integration, step by step, involving the initialization and handling of several modules individually. If you prefer to work with a sample DLL project, one is included in the SDK. The AkSoundEngineDLL project wraps some of the integration tasks into high-level calls, like "Initialize" and "Terminate". It is not used in this example so you can view each step individually, but you can use the DLL, or a modified version of it, in your own game. Refer to the <a class="el" href="samplecode.html#samplecode_integration_akcube">AkCube Sound Engine Integration Sample Project</a> for an example of how to use that DLL.</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Note.gif" alt="" class="inline"/></td><td><b>Note:</b> It is necessary to install the Visual Studio 2017 package in order to use AkSoundEngineDLL on Windows. </td></tr>
</table>
<p><br  />
</p>
<p>Note that the AkSoundEngineDLL project also contains an implementation of the Low-Level I/O, which you can replace by yours if desired. For more information on the Low-Level I/O, refer to <a class="el" href="streamingmanager_lowlevel.html">Low-Level I/O</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</body>
</html>
