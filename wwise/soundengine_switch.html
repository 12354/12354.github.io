<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Integration Details - Switches</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="akdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wwise SDK 2023.1.0 - Windows
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Integration Details - Switches </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="soundengine_switch_intro"></a>
Introduction</h1>
<p>A switch is a change in the game action or environment that requires a completely new sound. The switch system has one purpose: driving switch containers on a game object basis.</p>
<h2><a class="anchor" id="soundengine_switch_example"></a>
Example: Switch Group</h2>
<p>For example, if ground texture is set as a switch, the ground texture decides which sound will be played when a footstep occurs:</p>
<p>The switch group could be:</p><ul>
<li>Ground</li>
</ul>
<p>And the different switches of this group could be:</p><ul>
<li>Gravel</li>
<li>Metal</li>
<li>Sand</li>
</ul>
<p>At a given time, if two different characters are on two different ground textures, the switch-states of each character will be different.</p>
<h1><a class="anchor" id="soundengine_switch_switchsettings"></a>
Switch Settings</h1>
<p>If there is no current switch for a switch group, the switch group uses the default switch. This situation may occur at the beginning of a game, or during development. A switch container will also use the default switch if the game code refers to a switch that does not exist. For example, if the sound designer changes a container to remove a switch, but does not inform the audio programmer, that switch remains in the code. When that code is executed in the game, the switch to which it refers no longer exists, so the default switch is used.</p>
<h1><a class="anchor" id="soundengine_switch_driving"></a>
Driving Switches</h1>
<p>You have three options to drive switches: the SDK <a class="el" href="namespace_a_k_1_1_sound_engine_a9c9d57ba7b3af2b896e26297a7657264.html#a9c9d57ba7b3af2b896e26297a7657264">AK::SoundEngine::SetSwitch()</a> method, the "SetSwitch" action generated in Wwise events, or RTPCs. However, combining these options can be problematic. For example, if sound designers introduce SetSwitch actions inside the events they create while audio programmers drive switches using the SDK <a class="el" href="namespace_a_k_1_1_sound_engine_a9c9d57ba7b3af2b896e26297a7657264.html#a9c9d57ba7b3af2b896e26297a7657264">AK::SoundEngine::SetSwitch()</a> command, the switches may become difficult to control. We strongly recommend that sound designers and audio programmers decide how the actual switches will be driven, either for each switch group or for the entire project. All three ways can be used together, if there is agreement on how switches will change. For example, the audio programmers can initialize switches using the SDK <a class="el" href="namespace_a_k_1_1_sound_engine_a9c9d57ba7b3af2b896e26297a7657264.html#a9c9d57ba7b3af2b896e26297a7657264">AK::SoundEngine::SetSwitch()</a> command, but leave the switch to be driven by events for the rest of the game.</p>
<h1><a class="anchor" id="soundengine_switch_settingswitches"></a>
Setting Switches with AK::SoundEngine::SetSwitch()</h1>
<p>There are two ways to set a switch from the SDK: using strings(unicode or ansi) or using IDs.</p>
<p>Using strings makes code more readable and is suitable during development time, or when working in an environment that normally uses strings. Using IDs avoids string look-up time and saves memory that would be used for storing string mapping.</p>
<p>Setting a switch from the SDK is as simple as calling:</p>
<div class="fragment"><div class="line"><a class="code" href="namespace_a_k_1_1_sound_engine_a9c9d57ba7b3af2b896e26297a7657264.html#a9c9d57ba7b3af2b896e26297a7657264">AK::SoundEngine::SetSwitch</a>(</div>
<div class="line">    L<span class="stringliteral">&quot;Ground&quot;</span>,</div>
<div class="line">    L<span class="stringliteral">&quot;Gravel&quot;</span>,</div>
<div class="line">    myGameObject1</div>
<div class="line">);</div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line"><a class="code" href="namespace_a_k_1_1_sound_engine_a9c9d57ba7b3af2b896e26297a7657264.html#a9c9d57ba7b3af2b896e26297a7657264">AK::SoundEngine::SetSwitch</a> (</div>
<div class="line">    AK::SWITCHES::GROUND::GROUP,</div>
<div class="line">    AK::SWITCHES::GROUND::SWITCH::GRAVEL,</div>
<div class="line">    myGameObject1</div>
<div class="line">);</div>
</div><!-- fragment --><p>The third parameter of the <a class="el" href="namespace_a_k_1_1_sound_engine_a9c9d57ba7b3af2b896e26297a7657264.html#a9c9d57ba7b3af2b896e26297a7657264">SetSwitch()</a> function is the game object to which the switch should be applied. When an event containing a play action is triggered using this game object, it will use the specified switch to select what to play in the switch container. If a switch has not been set for a game object, the object will use the default switch specified in the switch container options.</p>
<p>Note that when a game object is unregistered, its current switch is also erased. If the game object is used again later, this switch will have to be reset.</p>
<p>For more information, refer to <a class="el" href="soundengine_gameobj.html">Integration Details - Game Objects</a>.</p>
<h2><a class="anchor" id="soundengine_switch_enabling_ids"></a>
Enabling ID Usage</h2>
<p>To work with IDs, the banks must be generated with the "Generate header file" option in the Generate SoundBanks dialog box in Wwise. The definition file, named Wwise_IDs.h, contains all the required IDs. It is updated at each bank generation.</p>
<h1><a class="anchor" id="soundengine_switch_switchesvsstates"></a>
Comparing Switches and States</h1>
<p>The main difference between a state group and a switch group is that the switch will be different for every game object in the game. Another difference between states and switches is that when a switch changes, only switch containers will be affected. When a state changes, it may affect switch containers but may also change the parameters of various other objects (sounds, actor-mixers, busses, and so on).</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Tip.gif" alt="" class="inline"/></td><td><b>Tip:</b> If a switch is global in the game, and applies to all game objects, use a state (which is already global) instead of setting a switch to every game object. This will save you work and save the platform memory and processing time. </td></tr>
</table>
<p>For an example of integrating switches, refer to <a class="el" href="quickstart_sample_integration_switches.html#soundengine_integration_switches">Switch Example</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="concept_switch.html">Concept: Switches</a>, <a class="el" href="soundengine_gameobj.html">Integration Details - Game Objects</a>, <a class="el" href="soundengine_states.html">Integration Details - States</a>, <a class="el" href="namespace_a_k_1_1_sound_engine_a9c9d57ba7b3af2b896e26297a7657264.html#a9c9d57ba7b3af2b896e26297a7657264">AK::SoundEngine::SetSwitch()</a>, <a class="el" href="soundengine_rtpc.html#soundengine_rtpc_pergameobject">RTPCs and Game Objects</a> </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="anamespace_a_k_1_1_sound_engine_a9c9d57ba7b3af2b896e26297a7657264_html_a9c9d57ba7b3af2b896e26297a7657264"><div class="ttname"><a href="namespace_a_k_1_1_sound_engine_a9c9d57ba7b3af2b896e26297a7657264.html#a9c9d57ba7b3af2b896e26297a7657264">AK::SoundEngine::SetSwitch</a></div><div class="ttdeci">AKSOUNDENGINE_API AKRESULT SetSwitch(AkSwitchGroupID in_switchGroup, AkSwitchStateID in_switchState, AkGameObjectID in_gameObjectID)</div></div>
</body>
</html>
