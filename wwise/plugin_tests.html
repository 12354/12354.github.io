<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Testing Audio Plug-ins</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="akdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wwise SDK 2023.1.0 - Windows
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Testing Audio Plug-ins </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This document is provided to help you make your plug-ins compatible with all aspects of the Wwise platform. We provide a set of guidelines and a list of specific tests that will make sure you are covering all areas of the software. The tests and guidelines listed here should be considered as requirements when deploying your plug-ins to a large audience.</p>
<p>By passing this series of tests, your plug-ins will be more stable and will have a greater chance of working with the complete feature set of Wwise.</p>
<h1><a class="anchor" id="plugin_tests_guidelines"></a>
Guidelines</h1>
<h2><a class="anchor" id="plugin_tests_guidelines_ui"></a>
User Interface</h2>
<ul>
<li>
<b>Maximum Size</b>: The content of your plug-in UI should fit in a size of 1000x650 pixels to accommodate smaller laptop screens.  </li>
<li>
<b>Resizable</b>: Handling of the <code>WM_SIZE</code> message in the <code>WindowProc</code> function is recommended. This allows the user to obtain a smaller or a larger workspace depending on the emphasis given to the plug-in. It also helps the plug-in to better adapt to the Wwise layout system.  </li>
<li>
<b>Usage of the default controls</b>: Using the default control is not mandatory, but it has several advantages: <ul>
<li>
The RTPC icon automatically appears for properties that support it.  </li>
<li>
Control interaction is standard across Wwise (slider behavior, keyboard modifiers, context menus, and so on).  </li>
<li>
Link/Unlink is supported (for Source plug-ins only).  </li>
<li>
Slider ranges are automatically adjusted based on the property definitions.  </li>
</ul>
</li>
<li>
<b>Capitalization</b>: For text (labels, check-boxes, radio buttons, buttons, tooltips, and so on) use sentence-style capitalization.  </li>
<li>
<b>Modeless Dialog</b>: Do not create modeless dialogs (non-child) from the plug-in window. This will conflict with Wwise's layout system and could potentially create bugs. Use modal dialogs instead, but restrict their usage to a minimum (For Open/Save file dialogs, User/System Settings, Message Boxes, and so on).  </li>
<li>
<b>Avoid flickering</b>: When resizing the plug-in window, no flickering should occur. </li>
</ul>
<h2><a class="anchor" id="plugin_tests_guidelines_functionality"></a>
Functionality</h2>
<ul>
<li>
<b>Support for RTPCs</b>: Whenever this is possible and make sense, you should try to support RTPCs for your properties. This allows binding game inputs to plug-in properties and brings more flexibility.  </li>
<li>
<b>Non-linear sliders</b>: For sliders that have non linear audible distribution of their value range, such as volume sliders in decibels, use non-linear distribution of the pixel range versus the property range.  </li>
<li>
<p class="startli"><b>Use the property restrictions</b>: When defining the properties in the XML plug-in definition, define, whenever this is possible, a restriction range or enumeration for your properties. These restrictions are used to: </p><ul>
<li>
Automatically adjust slider ranges </li>
<li>
Determine the RTPC range in the RTPC graph </li>
<li>
Validate and adjust the property values at project load, to ensure the integrity of the project. </li>
</ul>
<p class="endli"></p>
</li>
</ul>
<h2><a class="anchor" id="plugin_tests_guidelines_code"></a>
Coding (3rd-Party)</h2>
<p>3rd-party plugin vendors must comply to the following requirements. We recommend that in-house title programmers follow them as well.</p>
<ul>
<li>
<b>Stability</b>: Your plugin must not crash, assert, freeze, or leak memory.  </li>
<li>
<b>Memory allocation</b>: Never call new() or malloc() in the Sound Engine part of your plugin. Always allocate memory through the <a class="el" href="class_a_k_1_1_i_ak_plugin_mem_alloc.html">AK::IAkPluginMemAlloc</a> allocator that is passed to your plugin by the Wwise sound engine, by using the macros AK_PLUGIN_NEW, AK_PLUGIN_DELETE, AK_PLUGIN_ALLOC and AK_PLUGIN_FREE defined in <a class="el" href="_i_ak_plugin_8h.html">IAkPlugin.h</a>.  </li>
<li>
<b>Verify allocated memory</b>: In the Sound Engine part of your plugin, always verify that memory allocation was successful before using it. If memory allocation fails, your plugin should return gracefully with AK_Fail (if applicable).  </li>
<li>
<b>Declare supported channel configurations</b>: The Sound Engine part of your plugin should return AK_UnsupportedChannelConfig for channel configurations that it does not support. </li>
<li>
<b>Plugin performance</b>: The run-time performance of your plugin should be reasonably constant across all calls to AK::IAkInPlaceEffectPlugin::Execute() (or equivalent) during its lifetime. <ul>
<li>
Initialization, termination, and all other functions of the Sound Engine plugins API should also not take significantly longer than Execute().  </li>
<li>
This restriction does not apply when non-RTPC-able parameters are edited in the Wwise authoring tool and applied live in your plugin. In the worst case, changing such a parameter should take no more than the time it takes to teardown and reinitialize the Sound Engine part of the plugin.  </li>
</ul>
</li>
<li>
<b>Assertions</b>: Use the AKASSERT macro instead of native assert. <ul>
<li>
Add the following line of code in the main cpp file of the Wwise part of your plugin: DEFINEDUMMYASSERTHOOK; </li>
<li>
This macro is defined in AudioPlugin.h, and ensures that the Sound Engine part of your plugin links properly when built inside the DLL used by the Wwise authoring tool.  </li>
</ul>
</li>
<li>
<b>Usability</b>: Your plugin should be functional as soon as it is inserted in the authoring tool. By functional, we mean that it should be able to play and will not cause errors during soundbank generation, without having to rely on the user to perform any action, like opening the Effect Editor for example.  </li>
<li>
<b>Concurrent execution</b>: Your plugin should allow for concurrent execution of the Execute() method on separate instances (see eventmgrthread_taskscheduling). Any data sharing across instances needs to be made thread-safe. </li>
</ul>
<h1><a class="anchor" id="plugin_tests_Game_Engines"></a>
Unity 3D and Unreal4</h1>
<p>Both official Wwise integration into these game engines are using dynamic libraries for the effects. If you intend to distribute your plugin to a wide audience, you should provide dynamic libraries for all platforms you support. Please read more about plug-ins' dynamic libraries in Creating Dynamic Libraries.</p>
<h1><a class="anchor" id="plugin_tests_tests"></a>
Tests</h1>
<h2><a class="anchor" id="plugin_tests_tests_new_instance_source"></a>
New Instance (Source plug-ins)</h2>
<ol>
<li>
In the Project Explorer, create a new Sound </li>
<li>
In the Contents Editor, create a new Instance of your source plug-in </li>
<li>
Double-click the newly created source </li>
<li>
Verify that the default values are set </li>
<li>
Play the source </li>
<li>
Verify that the source plays correctly </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_new_instance_effect"></a>
New Instance (Effect plug-ins)</h2>
<ol>
<li>
In the Project Explorer, double-click an existing sound </li>
<li>
In the Property Editor, switch to the Effects tab </li>
<li>
On effect ID=0, click the "&gt;&gt;" button. </li>
<li>
In the effect sub-menu, select "New..." </li>
<li>
Select a work-unit </li>
<li>
Click Edit </li>
<li>
Verify that the default values are set </li>
<li>
Play the Sound </li>
<li>
Verify that the Sound plays with the effect applied </li>
</ol>
<ol>
<li>
In the Project Explorer, double-click an existing sound </li>
<li>
In the Property Editor, switch to the Effects tab </li>
<li>
On effect ID=0, click the "&gt;&gt;" button. </li>
<li>
In the effect sub-menu, select "Default (Custom)" </li>
<li>
Click Edit </li>
<li>
Verify that the default values are set </li>
<li>
Play the Sound </li>
<li>
Verify that the Sound plays with the effect applied </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_effect_mode_change"></a>
Effect Mode Change (Effect plug-ins)</h2>
<ol>
<li>
In the Project Explorer, double-click an existing sound </li>
<li>
In the Property Editor, switch to the Effects tab </li>
<li>
On effect ID=0, click the "&gt;&gt;" button. </li>
<li>
In the effect sub-menu, select "New..." </li>
<li>
Select a work-unit </li>
<li>
Click Edit </li>
<li>
Modify the property values </li>
<li>
On the Effect tab of the Property Editor, change the Effect mode to "Define custom" </li>
<li>
Click Edit </li>
<li>
Verify that the effect has the modified property values </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_parent_copy_effect"></a>
Parent Copy (Effect plug-ins)</h2>
<ol>
<li>
Create a Sound with an effect </li>
<li>
Modify the property values of the effect </li>
<li>
In the Project Explorer, copy the Sound (CTRL+C) </li>
<li>
In Project Explorer, paste it somewhere (CTRL+V) </li>
<li>
Verify that the effect is applied to the copied Sound and has the modified property values </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_parent_copy_source"></a>
Parent Copy (Source plug-ins)</h2>
<ol>
<li>
Create a Sound with a source plug-in </li>
<li>
Modify the property values of the source </li>
<li>
In the Project Explorer, copy the Sound (CTRL+C) </li>
<li>
In the Project Explorer, paste it somewhere (CTRL+V) </li>
<li>
Verify that the copied Sound contains a Source with the modified property values </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_delete_effect"></a>
Delete Effect (Effect plug-ins)</h2>
<ol>
<li>
Create a Sound with an effect </li>
<li>
Modify the property values of the effect </li>
<li>
On the Effects tab of the Property Editor, remove the effect </li>
<li>
Undo (CTRL+Z) </li>
<li>
Verify that the effect has been restored with the modified property values </li>
<li>
Redo (CTRL+Y) </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_delete_sound_effect"></a>
Delete Sound (Effect plug-ins)</h2>
<ol>
<li>
Create a Sound with an effect </li>
<li>
Modify the property values of the effect </li>
<li>
In the Project Explorer, delete the Sound </li>
<li>
Undo (CTRL+Z) </li>
<li>
Verify that the effect has been restored with the modified property values </li>
<li>
Redo (CTRL+Y) </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_delete_source"></a>
Delete Sound (Source plug-ins)</h2>
<ol>
<li>
Create a Sound with a source plug-in </li>
<li>
Modify the property values of the source </li>
<li>
In the Contents Editor, delete the source </li>
<li>
Undo (CTRL+Z) </li>
<li>
Verify that the source has been restored with the modified property values </li>
<li>
Redo (CTRL+Y) </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_delete_sound_source"></a>
Delete Sound (Source plug-ins)</h2>
<ol>
<li>
Create a Sound with a source plug-in </li>
<li>
Modify the property values of the source </li>
<li>
In the Project Explorer, delete the Sound </li>
<li>
Undo (CTRL+Z) </li>
<li>
Verify that the source has been restored with the modified property values </li>
<li>
Redo (CTRL+Y) </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_property_undo"></a>
Property Undo</h2>
<ol>
<li>
For each property or modifiable element: <ol>
<li>
Modify the value </li>
<li>
Open the Edit menu - Verify the name of the Undo event </li>
<li>
Undo </li>
<li>
Redo </li>
</ol>
</li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_property_persist"></a>
Persistence</h2>
<ol>
<li>
Create an effect or source plug-in with a modified property </li>
<li>
Save the Project </li>
<li>
Close the Project </li>
<li>
Reopen the Project </li>
<li>
Verify that the source or effect exists with the modified property values </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_rtpc_property_names"></a>
RTPC Property Names</h2>
<ol>
<li>
Create a Sound with a Source/Effect </li>
<li>
In the plug-in RTPC tab, click the "&gt;&gt;" </li>
<li>
Make sure all properties that support RTPCs are listed </li>
<li>
Make sure all property names use sentence-style capitalization </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_rtpc_property_ranges"></a>
RTPC Property Ranges</h2>
<ol>
<li>
Create a Sound with a Source/Effect </li>
<li>
Add all properties to the RTPC list </li>
<li>
For each property: <ol>
<li>
Verify that the range is correct </li>
<li>
Verify that the default value is correct </li>
</ol>
</li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_rtpc_property_playback"></a>
RTPC Changes At Playback</h2>
<ol>
<li>
Create a Sound with a Source/Effect </li>
<li>
For each property supporting an RTPC: <ol>
<li>
Add property to RTPC list </li>
<li>
Play the parent Sound </li>
<li>
While playing, change the Game Parameter bound to the Property </li>
</ol>
</li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_property_value_playback"></a>
Property Changes At Playback</h2>
<ol>
<li>
Create a Sound with a Source/Effect </li>
<li>
Play the Sound containing the effect/source (make the Sound looping if the Sound is too short) </li>
<li>
While playing, for each property: <ol>
<li>
Change the value </li>
</ol>
</li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_sound_looping"></a>
Sound Looping</h2>
<ol>
<li>
Create a Sound with a Source/Effect </li>
<li>
Enable Looping on the Sound (set to Infinite) </li>
<li>
Play the sound </li>
<li>
Make sure no glitches are heard </li>
<li>
Re-do test with different plug-in property values </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_container_looping"></a>
Container Looping</h2>
<ol>
<li>
Create a Sound with a Source/Effect </li>
<li>
Place the parent Sound in a Random Container </li>
<li>
Set the Random Container to: PlayMode=Continuous, Loop=Infinite </li>
<li>
Play the Random Container </li>
<li>
Make sure no glitches are heard </li>
<li>
Re-do test with different plug-in property values </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_container_looping_sample_accuracy"></a>
Container Looping with Sample Accuracy</h2>
<ol>
<li>
Create a Sound with a Source/Effect </li>
<li>
Place the parent Sound in a Random Container </li>
<li>
Set the Random Container to: PlayMode=Continuous, Loop=Infinite </li>
<li>
Set the Random Container to: Transition=Sample Accurate </li>
<li>
Play the Random Container </li>
<li>
Make sure no glitches are heard </li>
<li>
Re-do test with different plug-in property values </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_virtual_voices"></a>
Virtual Voices (Source Plug-ins)</h2>
<ol>
<li>
In the Project Settings dialog, set the Volume Threshold to -5 db </li>
<li>
Create a Sound with a Source </li>
<li>
On the Advanced Settings tab of the Property Editor, set WhenBelowVolumeThreshold=SendToVirtualVoice </li>
<li>
Play the Sound </li>
<li>
Set Sound Volume=-6 db </li>
<li>
Make sure no glitches are heard </li>
<li>
Set Sound Volume=0 db </li>
<li>
Make sure no glitches are heard </li>
<li>
Re-do test with different plug-in property values </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_effect_on_sound"></a>
Multi-channel Effect on Sound (Effect Plug-ins)</h2>
<ol>
<li>
For Sounds with the following channel configuration: 0.1, 1.0, 1.1, 2.0, 2.1, 4.0, 4.1, 5.0, 5.1 </li>
<li>
Place an effect on Sound </li>
<li>
Play the Sound </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_effect_on_bus"></a>
Multi-channel Effect on Bus (Effect Plug-ins)</h2>
<ol>
<li>
Create a Bus with an Effect </li>
<li>
For Sounds with the following channel configuration: 0.1, 1.0, 1.1, 2.0, 2.1, 4.0, 4.1, 5.0, 5.1 </li>
<li>
Route a Sound to this Bus </li>
<li>
Play the Sound </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_effect_on_sound_multiple_instances"></a>
Multiple Playback of Sound with Effect (Effect Plug-ins)</h2>
<ol>
<li>
Create a Sound with an Effect </li>
<li>
Using the SoundCaster, play the Sound multiple times simultaneously </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_effect_on_bus_multiple_instances"></a>
Effect on Bus with Multiple Sounds (Effect Plug-ins)</h2>
<ol>
<li>
Create a Bus with an Effect </li>
<li>
Route several Sounds to this Bus </li>
<li>
Using the SoundCaster, play multiple Sounds (routed to the bus) simultaneously </li>
</ol>
<h1><a class="anchor" id="plugin_tests_in_game_tests"></a>
In-Game Tests</h1>
<p>Testing your plug-in in-game is required to cover areas that can't be tested in Wwise, such as: </p><ul>
<li>
Code running on other platforms: PS4, Xbox One, and so on </li>
<li>
SoundBank generating/loading of plug-in parameters </li>
<li>
Rendered effects </li>
<li>
Environmental effects </li>
</ul>
<p>To facilitate in-game testing, the Game Simulator can be used to build test scripts. Here are the steps required to make a script and run it in the Game Simulator. </p><ol>
<li>
In your project: <ol>
<li>
Create a SoundBank </li>
<li>
Create an event that plays your Sound </li>
<li>
Add your event to the SoundBank </li>
<li>
Generate your SoundBank </li>
</ol>
</li>
<li>
Install the Game Simulator (must be the same version of Wwise that you are using)  </li>
<li>
Make a copy of AkSampleNoCoroutines.lua or AkSampleWithCoroutines.lua from the Scripts folder in the Game Simulator install directory.  </li>
<li>
Modify the lua script so it loads your own bank, and plays your event.  </li>
<li>
Run the lua script by using the appropriate Game Simulator, on the selected platform. </li>
</ol>
<h2><a class="anchor" id="plugin_tests_tests_rendered_effect"></a>
Rendered Effects (Effect Plug-ins)</h2>
<ol>
<li>
Create a Sound with an Effect </li>
<li>
On the Effects Tab of the Property Editor, enable "Render" for the effect. </li>
<li>
Play the Sound in-game </li>
</ol>
<h1><a class="anchor" id="plugin_tests_troubleshooting"></a>
Troubleshooting</h1>
<p>Help is available in <a class="el" href="plugin_troubleshooting.html">Wwise Source and Effect Plug-in Troubleshooting Guide</a> if you run into any problem. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</body>
</html>

