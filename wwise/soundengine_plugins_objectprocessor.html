<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Creating Sound Engine Object Processor Plug-ins</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="akdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wwise SDK 2023.1.0 - Windows
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Creating Sound Engine Object Processor Plug-ins </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Warning.gif" alt="" class="inline"/></td><td><b>Warning:</b> Object Processors are supersets of Effect Plug-Ins in that they can implement everything an Effect Plug-In can and offer additional functionality. However, they are more complicated to write. If you don't need to process multiple Audio Objects at once, and don't need to know about the object that is processed but only its audio signal, then you should write an Effect Plug-In instead. See <a class="el" href="soundengine_plugins_effects.html#se_insert_effect">Implementing an Effect Plug-in Interface</a>. </td></tr>
</table>
<h1><a class="anchor" id="soundengine_plugins_objectprocessor_intro"></a>
Introduction</h1>
<p>Object Processors are similar to Effect Plug-Ins (see <a class="el" href="soundengine_plugins_effects.html#se_insert_effect">Implementing an Effect Plug-in Interface</a>) in that they are inserted in one of the slots of the Effect tab of any Wwise Object. The difference with Effect Plug-Ins is apparent when used with Audio Objects. In essence, Effect Plug-Ins are agnostic with respect to Audio Objects (<a class="el" href="struct_ak_audio_object.html">AkAudioObject</a>) and only process audio signals, while Object Processors are aware of all Audio Objects passing through a bus, process them all at once and can access their metadata.</p>
<p>While effect plug-ins receive a single <a class="el" href="class_ak_audio_buffer.html">AkAudioBuffer</a>, Object Processors receive an instance of <a class="el" href="struct_ak_audio_objects.html" title="A collection of audio objects. Encapsulates the audio data and metadata of each audio object in separ...">AkAudioObjects</a> that provides:</p>
<ul>
<li>An array of <a class="el" href="class_ak_audio_buffer.html">AkAudioBuffer</a> instances representing the Audio Objects' signal.</li>
<li>An array of <a class="el" href="struct_ak_audio_object.html">AkAudioObject</a> instances representing the Audio Objects' metadata.</li>
</ul>
<p>These concepts are explained in the next section.</p>
<h1><a class="anchor" id="soundengine_plugins_objectprocessor_concepts"></a>
Audio Objects: Concepts</h1>
<p>An Audio Object contains an audio signal, which may be mono or multi-channel. In Wwise, Audio Objects are most easily observed when a bus's configuration is set to <b>Audio Objects</b>. These busses are referred to as Audio Object busses. Instead of mixing its inputs into a single buffer, multi-channel or not, an Audio Object bus gathers Audio Objects and retains their metadata. An Audio Object bus supports a dynamic number of Audio Objects, while a non-Audio Object bus may be seen as a bus that only supports a single Audio Object at any one time.</p>
<p>Audio Objects' metadata essentially consists of positioning information, as well as an array of custom metadata, which are themselves plug-ins and may be used by Object Processor plug-ins. Refer to <a class="el" href="soundengine_plugins_objectprocessor.html#soundengine_plugins_objectprocessor_metadata">Audio Object Metadata</a> for more details.</p>
<h1><a class="anchor" id="soundengine_plugins_objectprocessor_implementing"></a>
Implementing an Object Processor</h1>
<p>When mounted on an Audio Object bus, an Effect Plug-In will be instantiated as many times as there are Audio Objects, and the lifetime of each instance corresponds to the lifetime of the Audio Object to which it is assigned. Indeed, a single instance cannot be reused to process each Audio Object in turn, because the Effect may be maintaining a state that is required to guarantee continuity of the audio with the following frame.</p>
<p>On the other hand, an Object Processor is instantiated once, regardless of the number of Audio Objects, and processes all these objects at once.</p>
<p>Object Processors implement <a class="el" href="class_a_k_1_1_i_ak_in_place_object_plugin.html">AK::IAkInPlaceObjectPlugin</a> or <a class="el" href="class_a_k_1_1_i_ak_out_of_place_object_plugin.html">AK::IAkOutOfPlaceObjectPlugin</a>, depending on whether they are processing in-place or out-of-place. Plug-ins declare that they are Object Processors by returning <a class="el" href="struct_ak_plugin_info_abb27da271e4dc15b9b3ef9cb3316cfd3.html#abb27da271e4dc15b9b3ef9cb3316cfd3" title="Plug-in can process audio objects. They must implement IAkInPlaceObjectPlugin or IAkOutOfPlaceObjectP...">AkPluginInfo::bCanProcessObjects</a> set to true from <a class="el" href="class_a_k_1_1_i_ak_plugin_a5c4cdef6822950045b66834528bd1b55.html#a5c4cdef6822950045b66834528bd1b55">AK::IAkPlugin::GetPluginInfo</a>. They declare that they are in-place or out-of-place by setting <a class="el" href="struct_ak_plugin_info_a70fb541431bdc08cdb490a926ccc3ee4.html#a70fb541431bdc08cdb490a926ccc3ee4" title="Buffer usage (in-place or not). If true, and the plug-in is an insert effect, it should implement IAk...">AkPluginInfo::bIsInPlace</a> accordingly.</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Warning.gif" alt="" class="inline"/></td><td><b>Warning:</b> Out-of-place Object Processors are only supported on busses. As is the case with Effect Plug-Ins on busses, they cannot change the rate at which they consume and produce data (<a class="el" href="struct_ak_plugin_info_a2b7dda9208b4817d238f207055b40e99.html#a2b7dda9208b4817d238f207055b40e99" title="True for effects whose sample throughput is different between input and output. Effects that can chan...">AkPluginInfo::bCanChangeRate</a> cannot be true). They can however change the output objects and their channel configuration. </td></tr>
</table>
<p>Only the functions specific to these interfaces are covered here. Refer to <a class="el" href="soundengine_plugins.html">Creating Sound Engine Plug-ins</a>, for information about interface components shared with other plug-in types (<a class="el" href="class_a_k_1_1_i_ak_plugin.html">AK::IAkPlugin</a> interface), and <a class="el" href="soundengine_plugins_effects.html#se_insert_effect">Implementing an Effect Plug-in Interface</a> for information about the functionality shared with Effect Plug-Ins, such as initialization, bypassing, and monitoring.</p>
<h1><a class="anchor" id="soundengine_plugins_objectprocessor_inplace"></a>
Implementing an In-Place Object Processor</h1>
<p>In-place Object Processors receive an array of Audio Objects' buffers and metadata (<a class="el" href="class_ak_audio_buffer.html">AkAudioBuffer</a> and <a class="el" href="struct_ak_audio_object.html">AkAudioObject</a>, respectively) in <a class="el" href="class_a_k_1_1_i_ak_in_place_object_plugin_a5a99693f1b77d56fed6eb36c43ff013f.html#a5a99693f1b77d56fed6eb36c43ff013f">AK::IAkInPlaceObjectPlugin::Execute</a>. They are able to read and modify the audio signal and metadata of all Audio Objects, but they cannot create or remove Audio Objects, or change their channel configuration.</p>
<p>Note that when in-place Object Processors are inserted as Effects on objects in the Actor-Mixer or Interactive Music Hierarchies, as opposed to on busses, Object Metadata will be invalid during Execute, and any modifications to the Metadata will not be preserved. An Object Processor can check for this by determining if Object Keys are equal to AK_INVALID_AUDIO_OBJECT_ID or not, to either gracefully handle this scenario, or flag an error.</p>
<p>The Compressor is an example of an in-place Object Processor. It needs to be an Object Processor, because its algorithm depends on knowing the audio signal of all Audio Objects at once, but it does not modify the list of Audio Objects. It simply modifies the audio signal of the objects that pass through.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> CAkCompressorFX::Execute(</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="struct_ak_audio_objects.html">AkAudioObjects</a>&amp; io_objects    <span class="comment">// Input objects and object buffers.</span></div>
<div class="line">)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Downmix Audio Objects&#39; signal into a working buffer &quot;m_estBuffer&quot;, </span></div>
<div class="line">    <span class="comment">// perform gain estimation from that buffer and compute a gain to apply to each sample of each Audio Object.</span></div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Apply compressor gain (samples of m_estBuffer) to each sample of each Audio Object.</span></div>
<div class="line">    <span class="comment">// For each object</span></div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> i = 0; i &lt; io_objects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a>; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// For each channel of this object. </span></div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> uNumChannels = io_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[i]-&gt;<a class="code" href="class_ak_audio_buffer_a4523322478ec9a0f9de0c7c72e65df2f.html#a4523322478ec9a0f9de0c7c72e65df2f">NumChannels</a>();</div>
<div class="line">        <span class="keywordflow">for</span> (<a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> j = 0; j &lt; uNumChannels; ++j)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98.html#afc38459f26e2b23defe588026e886a98">AkReal32</a>* pInBuf = io_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[i]-&gt;<a class="code" href="class_ak_audio_buffer_ad2bc3b8ddd61eaa0c111798d5f9e8c9c.html#ad2bc3b8ddd61eaa0c111798d5f9e8c9c">GetChannel</a>(j);</div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98.html#afc38459f26e2b23defe588026e886a98">AkReal32</a>* pInBufEnd = pInBuf + io_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[i]-&gt;<a class="code" href="class_ak_audio_buffer_ab7f90fd99119b56e92e4cbf3559f98cd.html#ab7f90fd99119b56e92e4cbf3559f98cd">uValidFrames</a>;</div>
<div class="line">            <a class="code" href="_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98.html#afc38459f26e2b23defe588026e886a98">AkReal32</a>* estBuf = m_estBuffer;</div>
<div class="line">            <span class="keywordflow">while</span> (pInBuf &lt; pInBufEnd)</div>
<div class="line">            {</div>
<div class="line">                 *pInBuf *= *estBuf;</div>
<div class="line">                ++estBuf;</div>
<div class="line">                ++pInBuf;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>The Compressor is of course capable of processing a single object, that is, it works on traditional channel-based busses. It thus supersedes its old Effect Plug-In realization.</p>
<h2><a class="anchor" id="soundengine_plugins_objectprocessor_inplace_tails"></a>
Handling Tails in In-Place Object Processors</h2>
<p>Like Effect plug-ins, in-place Object Processors can handle tails by changing the <a class="el" href="class_ak_audio_buffer_a069d15381980ac4851216e084cf6a0cc.html#a069d15381980ac4851216e084cf6a0cc" title="Execution status.">AkAudioBuffer::eState</a> field from AK_NoMoreData to AK_DataReady for the desired number of frames. Refer to <a class="el" href="soundengine_plugins_effects.html#fx_tails">Implementing Effect Plug-in Tails</a> for more details. It is important to note however that Object Processors need to handle tails of all their Audio Objects independently. They would thus need to keep track of each object.</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Caution.gif" alt="" class="inline"/></td><td><b>Caution:</b> Do not store the addresses of audio objects passed to Execute. They can change from frame to frame. The preferred way of identifying an object is to use the <a class="el" href="struct_ak_audio_object_a4b5cc754786f067fa2b3fbed875652d8.html#a4b5cc754786f067fa2b3fbed875652d8" title="Unique ID, local to a given bus. Only the lower 56 of 64 bits are used for the object itself....">AkAudioObject::key</a> field. </td></tr>
</table>
<h1><a class="anchor" id="soundengine_plugins_objectprocessor_outofplace"></a>
Implementing an Out-of-Place Object Processor</h1>
<p>Out-of-place Object Processors manage distinct sets of Audio Objects at their input and output. The input Audio Objects depend on the host bus, while the output Audio Objects are created explicitly by the plug-in, using one of two methods discussed in the following sections. All these objects are passed to the plug-in at every frame via <a class="el" href="class_a_k_1_1_i_ak_out_of_place_object_plugin_a762b09e1978f3eabdebea17e84581f5a.html#a762b09e1978f3eabdebea17e84581f5a">AK::IAkOutOfPlaceObjectPlugin::Execute</a>.</p>
<h2><a class="anchor" id="soundengine_plugins_objectprocessor_outofplace_busconfig"></a>
Out-of-Place Object Processors and Bus Configuration</h2>
<p>The channel configuration of the output Audio Objects is decided by the plug-in.</p>
<p>Additionally, a non-Audio Object (or "single-object") bus is essentially a special case of the general Audio Object bus, but with only one Audio Object. Since an Object Processor can receive and produce any number of Audio Objects indifferently, it is thus capable of making a single-object bus output a dynamic number of Audio Objects, and vice-versa, making an Audio Object bus output a single Audio Object as if it were a traditional mixing bus.</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Note.gif" alt="" class="inline"/></td><td><b>Note:</b> When inserted on a non-Audio Object bus, an Object Processor receives the actual channel configuration of that bus in <a class="el" href="class_a_k_1_1_i_ak_effect_plugin_ae5a44837c4adddf6ff58fab57453b020.html#ae5a44837c4adddf6ff58fab57453b020">AK::IAkEffectPlugin::Init</a>. Since Object Processors are supersets of Effect Plug-Ins, you should strive to make yours work seamlessly, whether it is inserted on an Audio Object or non-Audio Object bus. That is, unless it is a user error to insert it on a non-Audio Object bus. For example, it does not make much sense for users to insert the <a class="el" href="soundengine_plugins_objectprocessor.html#soundengine_plugins_objectprocessor_outofplace_binauralizer">Software Binauralizer</a> plug-in on a non-Audio Object bus, because the downmixed audio would not carry any useful positioning information. In this case, it is better to let your users know that they probably made a mistake. </td></tr>
</table>
<h2><a class="anchor" id="soundengine_plugins_objectprocessor_outofplace_tails"></a>
Handling Tails and Object Lifetime in Out-of-Place Object Processors</h2>
<p>The sound engine resets all input and output Audio Objects' <a class="el" href="class_ak_audio_buffer_a069d15381980ac4851216e084cf6a0cc.html#a069d15381980ac4851216e084cf6a0cc" title="Execution status.">AkAudioBuffer::eState</a> to AK_NoMoreData at the beginning of every frame. Any Audio Object whose <a class="el" href="class_ak_audio_buffer_a069d15381980ac4851216e084cf6a0cc.html#a069d15381980ac4851216e084cf6a0cc" title="Execution status.">AkAudioBuffer::eState</a> remains set to AK_NoMoreData after processing is destroyed. Object Processors are not destroyed until all input and output objects have been destroyed. Thus, in order for an out-of-place Object Processor to continue producing audio when it no longer has any input Audio Objects, it simply needs to keep one or multiple output Audio Objects alive by setting their state to AK_DataReady.</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Caution.gif" alt="" class="inline"/></td><td><b>Caution:</b> Use caution if you keep track of objects within your Object Processor. Make sure not to refer to an object after it has been destroyed by the sound engine. </td></tr>
</table>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Note.gif" alt="" class="inline"/></td><td><b>Note:</b> Input objects will be kept alive if you set their <a class="el" href="class_ak_audio_buffer_a069d15381980ac4851216e084cf6a0cc.html#a069d15381980ac4851216e084cf6a0cc" title="Execution status.">AkAudioBuffer::eState</a> to AK_DataReady, but this should be avoided since it is not necessary to produce tails. </td></tr>
</table>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Note.gif" alt="" class="inline"/></td><td><b>Note:</b> An out-of-place Object Processor that outputs zero Audio Object outputs silence. </td></tr>
</table>
<h2><a class="anchor" id="soundengine_plugins_objectprocessor_outofplace_examples"></a>
Out-of-Place Object Processing Examples</h2>
<p>Let's explore out-of-place object processing with the three following canonical examples.</p>
<h2><a class="anchor" id="soundengine_plugins_objectprocessor_outofplace_binauralizer"></a>
Software Binauralizer</h2>
<p>A software binauralizer may be implemented as an out-of-place Object Processor that takes in multiple Audio Objects, and outputs a single Audio Object with a stereo channel configuration. Such a plug-in should be mounted on an Audio Object bus, but it will effectively make this bus output a single stereo signal.</p>
<p>A convenient way to create the one and only stereo output object is via the handshaking method of <a class="el" href="class_a_k_1_1_i_ak_effect_plugin_ae5a44837c4adddf6ff58fab57453b020.html#ae5a44837c4adddf6ff58fab57453b020">AK::IAkEffectPlugin::Init</a>.</p>
<div class="fragment"><div class="line"><a class="code" href="_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63.html#a64f7d1f79613cc4dcc49a4efba6caa63">AKRESULT</a> <a class="code" href="namespace_a_k_1_1_comm_a596691b552b507c26b4df958ee1c6de8.html#a596691b552b507c26b4df958ee1c6de8">ObjectBinauralizerFX::Init</a>(</div>
<div class="line">    <a class="code" href="class_a_k_1_1_i_ak_plugin_mem_alloc.html">AK::IAkPluginMemAlloc</a>* in_pAllocator, </div>
<div class="line">    <a class="code" href="class_a_k_1_1_i_ak_effect_plugin_context.html">AK::IAkEffectPluginContext</a>* in_pContext, </div>
<div class="line">    <a class="code" href="class_a_k_1_1_i_ak_plugin_param.html">AK::IAkPluginParam</a>* in_pParams, </div>
<div class="line">    <a class="code" href="struct_ak_audio_format.html">AkAudioFormat</a>&amp; io_rFormat)</div>
<div class="line">{</div>
<div class="line">    m_pContext = in_pContext;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// in_rFormat.channelConfig.eConfigType will be different than AK_ChannelConfigType_Objects if the configuration of the input of the plugin is known and does not support a </span></div>
<div class="line">    <span class="comment">// dynamic number of objects. However this plug-in is pointless if it is not instantiated on an Audio Object bus, so we are better off letting our users know.</span></div>
<div class="line">    <span class="keywordflow">if</span> (in_rFormat.<a class="code" href="struct_ak_audio_format_a73de76fa89ed81baa5265448bd6deefe.html#a73de76fa89ed81baa5265448bd6deefe">channelConfig</a>.<a class="code" href="struct_ak_channel_config_a598c4a4489e9fb252e7022ae99135674.html#a598c4a4489e9fb252e7022ae99135674">eConfigType</a> != <a class="code" href="_ak_speaker_config_8h_a9e3e31d9ff388daa593222da7672a999.html#a9e3e31d9ff388daa593222da7672a999a338b59e9d7624cbc47fab92e22bc55cc">AK_ChannelConfigType_Objects</a>)</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63.html#a64f7d1f79613cc4dcc49a4efba6caa63a906fa026b1f04805d30bc474677e73ca">AK_UnsupportedChannelConfig</a>;</div>
<div class="line">        </div>
<div class="line">    <span class="comment">// Inform the host that the output will be stereo. The host will create an output object for us and pass it to Execute.</span></div>
<div class="line">    io_rFormat.<a class="code" href="struct_ak_audio_format_a73de76fa89ed81baa5265448bd6deefe.html#a73de76fa89ed81baa5265448bd6deefe">channelConfig</a>.<a class="code" href="struct_ak_channel_config_a4c0f4b3d39608a10c9b330c1ef8281a7.html#a4c0f4b3d39608a10c9b330c1ef8281a7">SetStandard</a>(<a class="code" href="_ak_speaker_config_8h_a472757ac65daebc42373c503d4c3c894.html#a472757ac65daebc42373c503d4c3c894">AK_SPEAKER_SETUP_STEREO</a>);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63.html#a64f7d1f79613cc4dcc49a4efba6caa63ad7c47fea3da641e7422573c6a13dc35e">AK_Success</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Then, in Execute:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> ObjectBinauralizerFX::Execute(</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="struct_ak_audio_objects.html">AkAudioObjects</a>&amp; in_objects,   <span class="comment">///&lt; Input objects and object audio buffers.</span></div>
<div class="line"><span class="comment"></span>    <span class="keyword">const</span> <a class="code" href="struct_ak_audio_objects.html">AkAudioObjects</a>&amp; out_objects   <span class="comment">///&lt; Output objects and object audio buffers.</span></div>
<div class="line"><span class="comment"></span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="_ak_assert_8h_ac0e6cc4061c0a7c154a8c921a0af74cb.html#ac0e6cc4061c0a7c154a8c921a0af74cb">AKASSERT</a>(in_objects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a> &gt; 0); <span class="comment">// Should never be called with 0 objects if this plug-in does not force tails.</span></div>
<div class="line">    <a class="code" href="_ak_assert_8h_ac0e6cc4061c0a7c154a8c921a0af74cb.html#ac0e6cc4061c0a7c154a8c921a0af74cb">AKASSERT</a>(out_objects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a> == 1); <span class="comment">// Output config is a stereo channel stream.</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// &quot;Binauralize&quot; (just mix) objects in stereo output buffer.</span></div>
<div class="line">    <span class="comment">// For the purpose of this demonstration, instead of applying HRTF filters, let&#39;s call the built-in service to compute panning gains.</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// The output object should be stereo. Clear its two channels.</span></div>
<div class="line">    <a class="code" href="_ak_assert_8h_ac0e6cc4061c0a7c154a8c921a0af74cb.html#ac0e6cc4061c0a7c154a8c921a0af74cb">AKASSERT</a>(out_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[0]-&gt;<a class="code" href="class_ak_audio_buffer_a7601d9b814dbcb9dfe2bfbaa05fcb13b.html#a7601d9b814dbcb9dfe2bfbaa05fcb13b">GetChannelConfig</a>().<a class="code" href="struct_ak_channel_config_a8fc646976d669b0b0bdf81371c2a2f76.html#a8fc646976d669b0b0bdf81371c2a2f76">uChannelMask</a> == <a class="code" href="_ak_speaker_config_8h_a472757ac65daebc42373c503d4c3c894.html#a472757ac65daebc42373c503d4c3c894">AK_SPEAKER_SETUP_STEREO</a>);</div>
<div class="line">    memset(out_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[0]-&gt;<a class="code" href="class_ak_audio_buffer_ad2bc3b8ddd61eaa0c111798d5f9e8c9c.html#ad2bc3b8ddd61eaa0c111798d5f9e8c9c">GetChannel</a>(0), 0, out_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[0]-&gt;<a class="code" href="class_ak_audio_buffer_a537445dce6e3ed09dd2c337fd73c6b41.html#a537445dce6e3ed09dd2c337fd73c6b41">MaxFrames</a>() * <span class="keyword">sizeof</span>(<a class="code" href="_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98.html#afc38459f26e2b23defe588026e886a98">AkReal32</a>));</div>
<div class="line">    memset(out_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[0]-&gt;<a class="code" href="class_ak_audio_buffer_ad2bc3b8ddd61eaa0c111798d5f9e8c9c.html#ad2bc3b8ddd61eaa0c111798d5f9e8c9c">GetChannel</a>(1), 0, out_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[0]-&gt;<a class="code" href="class_ak_audio_buffer_a537445dce6e3ed09dd2c337fd73c6b41.html#a537445dce6e3ed09dd2c337fd73c6b41">MaxFrames</a>() * <span class="keyword">sizeof</span>(<a class="code" href="_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98.html#afc38459f26e2b23defe588026e886a98">AkReal32</a>));</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63.html#a64f7d1f79613cc4dcc49a4efba6caa63">AKRESULT</a> eState = <a class="code" href="_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63.html#a64f7d1f79613cc4dcc49a4efba6caa63a94ba10d374d31161770fc490e0245802">AK_NoMoreData</a>;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> i = 0; i &lt; in_objects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a>; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// State management: set the output to AK_DataReady as long as one of the inputs is AK_DataReady. Otherwise set to AK_NoMoreData.</span></div>
<div class="line">        <span class="keywordflow">if</span> (in_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[i]-&gt;<a class="code" href="class_ak_audio_buffer_a069d15381980ac4851216e084cf6a0cc.html#a069d15381980ac4851216e084cf6a0cc">eState</a> != <a class="code" href="_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63.html#a64f7d1f79613cc4dcc49a4efba6caa63a94ba10d374d31161770fc490e0245802">AK_NoMoreData</a>)</div>
<div class="line">            eState = in_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[i]-&gt;<a class="code" href="class_ak_audio_buffer_a069d15381980ac4851216e084cf6a0cc.html#a069d15381980ac4851216e084cf6a0cc">eState</a>;</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Prepare mixing matrix for this input.</span></div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> uNumChannelsIn = in_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[i]-&gt;<a class="code" href="class_ak_audio_buffer_a4523322478ec9a0f9de0c7c72e65df2f.html#a4523322478ec9a0f9de0c7c72e65df2f">NumChannels</a>();</div>
<div class="line">        <a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> uTransmixSize = <a class="code" href="namespace_a_k_1_1_speaker_volumes_1_1_matrix_a59458aba2b1be3fa678021a3aea813b9.html#a59458aba2b1be3fa678021a3aea813b9">AK::SpeakerVolumes::Matrix::GetRequiredSize</a>(</div>
<div class="line">            uNumChannelsIn,</div>
<div class="line">            2);</div>
<div class="line">        <a class="code" href="namespace_a_k_1_1_speaker_volumes_a298ce328dab73cd7e5e2c96449832eb5.html#a298ce328dab73cd7e5e2c96449832eb5">AK::SpeakerVolumes::MatrixPtr</a> mx = (<a class="code" href="namespace_a_k_1_1_speaker_volumes_a298ce328dab73cd7e5e2c96449832eb5.html#a298ce328dab73cd7e5e2c96449832eb5">AK::SpeakerVolumes::MatrixPtr</a>)<a class="code" href="_common_2_ak_platform_funcs_8h_a15796d12dad1c8d1cedd0fb680b318dd.html#a15796d12dad1c8d1cedd0fb680b318dd">AkAllocaSIMD</a>(uTransmixSize);</div>
<div class="line">        <a class="code" href="namespace_a_k_1_1_speaker_volumes_1_1_matrix_a46351431a388d100fc2676b4aa3dad0c.html#a46351431a388d100fc2676b4aa3dad0c">AK::SpeakerVolumes::Matrix::Zero</a>(mx, uNumChannelsIn, 2);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Compute panning gains and fill the mixing matrix.</span></div>
<div class="line">        m_pContext-&gt;GetMixerCtx()-&gt;ComputePositioning(</div>
<div class="line">            in_objects.<a class="code" href="struct_ak_audio_objects_a4332a296e3e6d98688176aa460584853.html#a4332a296e3e6d98688176aa460584853">ppObjects</a>[i]-&gt;<a class="code" href="struct_ak_audio_object_a1dccda4d0468b93e4347842a9de4e98e.html#a1dccda4d0468b93e4347842a9de4e98e">positioning</a>,</div>
<div class="line">            in_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[i]-&gt;<a class="code" href="class_ak_audio_buffer_a7601d9b814dbcb9dfe2bfbaa05fcb13b.html#a7601d9b814dbcb9dfe2bfbaa05fcb13b">GetChannelConfig</a>(),</div>
<div class="line">            out_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[0]-&gt;<a class="code" href="class_ak_audio_buffer_a7601d9b814dbcb9dfe2bfbaa05fcb13b.html#a7601d9b814dbcb9dfe2bfbaa05fcb13b">GetChannelConfig</a>(),</div>
<div class="line">            mx</div>
<div class="line">        );</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Using the mixing matrix, mix the channels of the ith input object into the one and only stereo output object.</span></div>
<div class="line">        <a class="code" href="_i_ak_plugin_8h_a4793694b5f18e4334d12f70a4da40e04.html#a4793694b5f18e4334d12f70a4da40e04">AK_GET_PLUGIN_SERVICE_MIXER</a>(m_pContext-&gt;GlobalContext())-&gt;MixNinNChannels(</div>
<div class="line">            in_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[i],</div>
<div class="line">            out_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[0],</div>
<div class="line">            1.f,</div>
<div class="line">            1.f,</div>
<div class="line">            mx, <span class="comment">/// NOTE: To properly interpolate from frame to frame and avoid any glitch, we would need to store the previous matrix (OR positional information) for each object.</span></div>
<div class="line"><span class="comment"></span>            mx);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Set the output object&#39;s state.</span></div>
<div class="line">    out_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[0]-&gt;<a class="code" href="class_ak_audio_buffer_ab7f90fd99119b56e92e4cbf3559f98cd.html#ab7f90fd99119b56e92e4cbf3559f98cd">uValidFrames</a> = in_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[0]-&gt;<a class="code" href="class_ak_audio_buffer_a537445dce6e3ed09dd2c337fd73c6b41.html#a537445dce6e3ed09dd2c337fd73c6b41">MaxFrames</a>();</div>
<div class="line">    out_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[0]-&gt;<a class="code" href="class_ak_audio_buffer_a069d15381980ac4851216e084cf6a0cc.html#a069d15381980ac4851216e084cf6a0cc">eState</a> = eState;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="soundengine_plugins_objectprocessor_outofplace_panner"></a>
3D Panner</h2>
<p>A 3D Panner can be implemented such that it works like the <a class="el" href="soundengine_plugins_objectprocessor.html#soundengine_plugins_objectprocessor_outofplace_binauralizer">Software Binauralizer</a> described above. However, one elegant way to implement it is by having it instantiate a set of output Audio Objects that each correspond to a spatialized virtual microphone. By doing so, these Audio Objects' signals will be panned by a bus or device downstream, which will make the best use out of the positioning metadata of these virtual microphones.</p>
<p>In <a class="el" href="class_a_k_1_1_i_ak_effect_plugin_ae5a44837c4adddf6ff58fab57453b020.html#ae5a44837c4adddf6ff58fab57453b020">AK::IAkEffectPlugin::Init</a>, instead of returning a non-object configuration, create output objects explicitly using <a class="el" href="class_a_k_1_1_i_ak_effect_plugin_context_a96f65eb02b520f2ca5af497e645971a0.html#a96f65eb02b520f2ca5af497e645971a0">AK::IAkEffectPluginContext::CreateOutputObjects</a>.</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> k_uNumObjectsOut = 6;</div>
</div><!-- fragment --><div class="fragment"><div class="line"><a class="code" href="_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63.html#a64f7d1f79613cc4dcc49a4efba6caa63">AKRESULT</a> <a class="code" href="namespace_a_k_1_1_comm_a596691b552b507c26b4df958ee1c6de8.html#a596691b552b507c26b4df958ee1c6de8">Ak3DPannerFX::Init</a>(</div>
<div class="line">    <a class="code" href="class_a_k_1_1_i_ak_plugin_mem_alloc.html">AK::IAkPluginMemAlloc</a>* in_pAllocator, </div>
<div class="line">    <a class="code" href="class_a_k_1_1_i_ak_effect_plugin_context.html">AK::IAkEffectPluginContext</a>* in_pContext, </div>
<div class="line">    <a class="code" href="class_a_k_1_1_i_ak_plugin_param.html">AK::IAkPluginParam</a>* in_pParams, </div>
<div class="line">    <a class="code" href="struct_ak_audio_format.html">AkAudioFormat</a>&amp; in_rFormat</div>
<div class="line">)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Create output objects.</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Desired channel configuration for all new objects: mono.</span></div>
<div class="line">    <a class="code" href="struct_ak_channel_config.html">AkChannelConfig</a> channelConfig;</div>
<div class="line">    channelConfig.<a class="code" href="struct_ak_channel_config_a4c0f4b3d39608a10c9b330c1ef8281a7.html#a4c0f4b3d39608a10c9b330c1ef8281a7">SetStandard</a>(<a class="code" href="_ak_speaker_config_8h_a15b620987b17cea4c8dca72443f3ac96.html#a15b620987b17cea4c8dca72443f3ac96">AK_SPEAKER_SETUP_MONO</a>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// AkAudioObjects::uNumObjects, the number of objects to create.</span></div>
<div class="line">    <span class="comment">// AkAudioObjects::ppObjectBuffers, Returned array of pointers to the object buffers newly created, allocated by the caller. Pass nullptr if they&#39;re not needed.</span></div>
<div class="line">    <span class="comment">// AkAudioObjects::ppObjects, Returned array of pointers to the objects newly created, allocated by the caller. Pass nullptr if they&#39;re not needed.</span></div>
<div class="line">    <a class="code" href="struct_ak_audio_object.html">AkAudioObject</a>* ppObjects[k_uNumObjectsOut];</div>
<div class="line">    <a class="code" href="struct_ak_audio_objects.html">AkAudioObjects</a> outputObjects;</div>
<div class="line">    outputObjects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a> = k_uNumObjectsOut;</div>
<div class="line">    outputObjects.<a class="code" href="struct_ak_audio_objects_a4332a296e3e6d98688176aa460584853.html#a4332a296e3e6d98688176aa460584853">ppObjects</a> = ppObjects;</div>
<div class="line">    outputObjects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a> = <span class="keyword">nullptr</span>;    <span class="comment">// not needed.</span></div>
<div class="line">    <a class="code" href="_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63.html#a64f7d1f79613cc4dcc49a4efba6caa63">AKRESULT</a> res = in_pContext-&gt;<a class="code" href="class_a_k_1_1_i_ak_effect_plugin_context_a96f65eb02b520f2ca5af497e645971a0.html#a96f65eb02b520f2ca5af497e645971a0">CreateOutputObjects</a>(</div>
<div class="line">        channelConfig,  </div>
<div class="line">        outputObjects</div>
<div class="line">    );</div>
<div class="line">    <span class="keywordflow">if</span> (res == <a class="code" href="_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63.html#a64f7d1f79613cc4dcc49a4efba6caa63ad7c47fea3da641e7422573c6a13dc35e">AK_Success</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Set output objects&#39; 3D positions as if they were laid out as a 5.1 config around the listener.</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// FL</span></div>
<div class="line">        ppObjects[0]-&gt;<a class="code" href="struct_ak_audio_object_a1dccda4d0468b93e4347842a9de4e98e.html#a1dccda4d0468b93e4347842a9de4e98e">positioning</a>.<a class="code" href="struct_ak_positioning_data_ae7f86a6ffe7166f32371ec765111e8bb.html#ae7f86a6ffe7166f32371ec765111e8bb">behavioral</a>.<a class="code" href="struct_ak_behavioral_positioning_data_a135aef56c3da0d202058e13af30ff950.html#a135aef56c3da0d202058e13af30ff950">spatMode</a> = <a class="code" href="_common_2_ak_types_8h_a3598689e020ab61ab57c360cbb381b47.html#a3598689e020ab61ab57c360cbb381b47a9b2c6ba7e49798586faf1e54953c70d0">AK_SpatializationMode_PositionAndOrientation</a>;</div>
<div class="line">        ppObjects[0]-&gt;<a class="code" href="struct_ak_audio_object_a1dccda4d0468b93e4347842a9de4e98e.html#a1dccda4d0468b93e4347842a9de4e98e">positioning</a>.<a class="code" href="struct_ak_positioning_data_a835e6eabecf9ecdf86fbf58bfe99d47b.html#a835e6eabecf9ecdf86fbf58bfe99d47b">threeD</a>.<a class="code" href="struct_ak3d_data_a175ec6a58f0c97ab2070e23eb2b016db.html#a175ec6a58f0c97ab2070e23eb2b016db">xform</a>.<a class="code" href="class_ak_transform_a5213b68637f2d661c1cd811af22bee7d.html#a5213b68637f2d661c1cd811af22bee7d">SetPosition</a>(-0.707f, 0.f, 0.707f);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Store the objects&#39; keys so we can later retrieve them (see helper below).</span></div>
<div class="line">        m_objectKeys[0] = ppObjects[0]-&gt;<a class="code" href="struct_ak_audio_object_a4b5cc754786f067fa2b3fbed875652d8.html#a4b5cc754786f067fa2b3fbed875652d8">key</a>; </div>
<div class="line">        </div>
<div class="line">        <span class="comment">// FR</span></div>
<div class="line">        <span class="comment">//...</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// Helper function: find an object having key in_key in array in_objects.</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> FindOutputObjectIdx(<a class="code" href="_common_2_ak_types_8h_a6cadc0376ae4f945438db69f6306f21a.html#a6cadc0376ae4f945438db69f6306f21a">AkAudioObjectID</a> in_key, <a class="code" href="struct_ak_audio_object.html">AkAudioObject</a>** in_objects)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; k_uNumObjectsOut; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (in_objects[i]-&gt;key == in_key)</div>
<div class="line">            <span class="keywordflow">return</span> i;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="_ak_assert_8h_ac0e6cc4061c0a7c154a8c921a0af74cb.html#ac0e6cc4061c0a7c154a8c921a0af74cb">AKASSERT</a>(<span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">return</span> -1;</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="keywordtype">void</span> Ak3DPannerFX::Execute(</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="struct_ak_audio_objects.html">AkAudioObjects</a>&amp; in_objects,   <span class="comment">// Input objects and object audio buffers.</span></div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="struct_ak_audio_objects.html">AkAudioObjects</a>&amp; out_objects   <span class="comment">// Output objects and object audio buffers.</span></div>
<div class="line">    )</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Compute panning of each object into a temp buffer tempBuffer.</span></div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Copy each channel of the temp buffer to its corresponding output object.</span></div>
<div class="line">    <a class="code" href="_ak_assert_8h_ac0e6cc4061c0a7c154a8c921a0af74cb.html#ac0e6cc4061c0a7c154a8c921a0af74cb">AKASSERT</a>(k_uNumObjectsOut == out_objects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a>);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; k_uNumObjectsOut; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Find corresponding output object.</span></div>
<div class="line">        <span class="comment">// In Execute, the order of objects is not reliable. We need to search for each object in the array of output objects, using the helper defined above.</span></div>
<div class="line">        <a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> idx = FindOutputObjectIdx(m_objectKeys[i], out_objects.<a class="code" href="struct_ak_audio_objects_a4332a296e3e6d98688176aa460584853.html#a4332a296e3e6d98688176aa460584853">ppObjects</a>);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Copy the ith temp buffer&#39;s channel into the proper output object.</span></div>
<div class="line">        memcpy(out_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[idx]-&gt;<a class="code" href="class_ak_audio_buffer_ad2bc3b8ddd61eaa0c111798d5f9e8c9c.html#ad2bc3b8ddd61eaa0c111798d5f9e8c9c">GetChannel</a>(0), tempBuffer.GetChannel(i), tempBuffer.uValidFrames * <span class="keyword">sizeof</span>(<a class="code" href="_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98.html#afc38459f26e2b23defe588026e886a98">AkReal32</a>));</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Set the output object&#39;s state to avoid garbage collection by the host.</span></div>
<div class="line">        out_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[idx]-&gt;<a class="code" href="class_ak_audio_buffer_ab7f90fd99119b56e92e4cbf3559f98cd.html#ab7f90fd99119b56e92e4cbf3559f98cd">uValidFrames</a> = tempBuffer.uValidFrames;</div>
<div class="line">        out_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[idx]-&gt;<a class="code" href="class_ak_audio_buffer_a069d15381980ac4851216e084cf6a0cc.html#a069d15381980ac4851216e084cf6a0cc">eState</a> = tempBuffer.eState;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>In the above example, you may wonder why (-0.707f, 0.f, 0.707f) represents the front left. See <a class="el" href="soundengine_plugins_objectprocessor.html#soundengine_plugins_objectprocessor_metadata_3dtransform">On 3D Transformations</a> for details.</p>
<h2><a class="anchor" id="soundengine_plugins_objectprocessor_outofplace_particle"></a>
Particle Generator</h2>
<p>For each of its input Audio Objects, a Particle Generator would create N output Audio Objects randomly positioned around the position of their corresponding object. This type of Object Processor cannot create objects in Init, it needs to create them dynamically in Execute, keep track of them and keep track of the input objects. When an input object's state is AK_NoMoreData, the state of the corresponding output objects should be set to AK_NoMoreData as well. This ensures that they get garbage collected by the sound engine.</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Caution.gif" alt="" class="inline"/></td><td><b>Caution:</b> If an out-of-place object processor calls <a class="el" href="class_a_k_1_1_i_ak_effect_plugin_context_a96f65eb02b520f2ca5af497e645971a0.html#a96f65eb02b520f2ca5af497e645971a0">AK::IAkEffectPluginContext::CreateOutputObjects</a> from within Execute, it cannot reliably access the output objects passed in out_objects. In that case it must use <a class="el" href="class_a_k_1_1_i_ak_effect_plugin_context_ad0b9c549569b25dea349d2a352f02e58.html#ad0b9c549569b25dea349d2a352f02e58">AK::IAkEffectPluginContext::GetOutputObjects</a>. </td></tr>
</table>
<div class="fragment"><div class="line"><span class="comment">// The plugin needs to maintain a map of input object keys to generated objects. Like so:</span></div>
<div class="line"><span class="keyword">struct </span>GeneratedObjects</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> numObjs;</div>
<div class="line">    <a class="code" href="_common_2_ak_types_8h_a6cadc0376ae4f945438db69f6306f21a.html#a6cadc0376ae4f945438db69f6306f21a">AkAudioObjectID</a> apObjectKeys[AK_MAX_GENERATED_OBJECTS];</div>
<div class="line">    <span class="keywordtype">int</span> index;  <span class="comment">/// We use an index mark each output object as &quot;visited&quot; and map them to input objects (index in the array) at the same time.</span></div>
<div class="line"><span class="comment"></span>};</div>
<div class="line"><a class="code" href="class_ak_mixer_input_map.html">AkMixerInputMap&lt;AkUInt64,GeneratedObjects&gt;</a> m_mapInObjsToOutObjs;</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="keywordtype">void</span> ParticleGeneratorFX::Execute(</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="struct_ak_audio_objects.html">AkAudioObjects</a>&amp; in_objects,   <span class="comment">///&lt; Input objects and object audio buffers.</span></div>
<div class="line"><span class="comment"></span>    <span class="keyword">const</span> <a class="code" href="struct_ak_audio_objects.html">AkAudioObjects</a>&amp; out_objects   <span class="comment">///&lt; Output objects and object audio buffers.</span></div>
<div class="line"><span class="comment"></span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="_ak_assert_8h_ac0e6cc4061c0a7c154a8c921a0af74cb.html#ac0e6cc4061c0a7c154a8c921a0af74cb">AKASSERT</a>(in_objects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a> &gt; 0); <span class="comment">// Should never be called with 0 objects if this plug-in supports no tail.</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Object bookkeeping.</span></div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> i = 0; i &lt; in_objects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a>; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Find this object in our map.</span></div>
<div class="line">        <a class="code" href="struct_ak_audio_object.html">AkAudioObject</a> * inobj = in_objects.<a class="code" href="struct_ak_audio_objects_a4332a296e3e6d98688176aa460584853.html#a4332a296e3e6d98688176aa460584853">ppObjects</a>[i];</div>
<div class="line">        GeneratedObjects * pEntry = m_mapInObjsToOutObjs.<a class="code" href="class_ak_mixer_input_map_ad9acf848722f5fb49c1184fc89aff4a2.html#ad9acf848722f5fb49c1184fc89aff4a2">Exists</a>(inobj-&gt;<a class="code" href="struct_ak_audio_object_a4b5cc754786f067fa2b3fbed875652d8.html#a4b5cc754786f067fa2b3fbed875652d8">key</a>);</div>
<div class="line">        <span class="keywordflow">if</span> (pEntry)</div>
<div class="line">            pEntry-&gt;index = i;  <span class="comment">// Found. Note down the index for later.</span></div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// New. Create a new entry and new associated output objects.</span></div>
<div class="line">            pEntry = m_mapInObjsToOutObjs.<a class="code" href="class_ak_mixer_input_map_aa8e0ad3d5ecd8a24cc4c5011b4ffb1c9.html#aa8e0ad3d5ecd8a24cc4c5011b4ffb1c9">AddInput</a>(inobj-&gt;<a class="code" href="struct_ak_audio_object_a4b5cc754786f067fa2b3fbed875652d8.html#a4b5cc754786f067fa2b3fbed875652d8">key</a>); </div>
<div class="line">            <span class="keywordflow">if</span> (pEntry)</div>
<div class="line">            {</div>
<div class="line">                <a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> numObjsOut = 1;</div>
<div class="line">                <span class="keywordflow">if</span> (inobj-&gt;<a class="code" href="struct_ak_audio_object_a1dccda4d0468b93e4347842a9de4e98e.html#a1dccda4d0468b93e4347842a9de4e98e">positioning</a>.<a class="code" href="struct_ak_positioning_data_ae7f86a6ffe7166f32371ec765111e8bb.html#ae7f86a6ffe7166f32371ec765111e8bb">behavioral</a>.<a class="code" href="struct_ak_behavioral_positioning_data_a135aef56c3da0d202058e13af30ff950.html#a135aef56c3da0d202058e13af30ff950">spatMode</a> != <a class="code" href="_common_2_ak_types_8h_a3598689e020ab61ab57c360cbb381b47.html#a3598689e020ab61ab57c360cbb381b47a1564e597be0cedb081025e92cd29aad2">AK_SpatializationMode_None</a>)</div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// If &quot;3D&quot;.</span></div>
<div class="line">                    <span class="comment">// Create between one and AK_MAX_GENERATED_OBJECTS output objects.</span></div>
<div class="line">                    <a class="code" href="_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98.html#afc38459f26e2b23defe588026e886a98">AkReal32</a> fRandom = rand() / ((<a class="code" href="_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98.html#afc38459f26e2b23defe588026e886a98">AkReal32</a>)RAND_MAX);</div>
<div class="line">                    numObjsOut = (<a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a>)(fRandom * (AK_MAX_GENERATED_OBJECTS - 1) + 1.f);</div>
<div class="line">                }</div>
<div class="line">                <span class="comment">// Else just create one object.</span></div>
<div class="line">                </div>
<div class="line">                <a class="code" href="struct_ak_audio_object.html">AkAudioObject</a> ** arNewObjects = (<a class="code" href="struct_ak_audio_object.html">AkAudioObject</a>**)<a class="code" href="_win32_2_ak_platform_funcs_8h_aae886a30b939ee13e0abf036fa9e6a15.html#aae886a30b939ee13e0abf036fa9e6a15">AkAlloca</a>(numObjsOut * <span class="keyword">sizeof</span>(<a class="code" href="struct_ak_audio_object.html">AkAudioObject</a>*));</div>
<div class="line">                <a class="code" href="struct_ak_audio_objects.html">AkAudioObjects</a> outputObjects;</div>
<div class="line">                outputObjects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a> = numObjsOut;</div>
<div class="line">                outputObjects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a> = <span class="keyword">nullptr</span>;</div>
<div class="line">                outputObjects.<a class="code" href="struct_ak_audio_objects_a4332a296e3e6d98688176aa460584853.html#a4332a296e3e6d98688176aa460584853">ppObjects</a> = arNewObjects;</div>
<div class="line">                <span class="keywordflow">if</span> (m_pContext-&gt;CreateOutputObjects(in_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[i]-&gt;<a class="code" href="class_ak_audio_buffer_a7601d9b814dbcb9dfe2bfbaa05fcb13b.html#a7601d9b814dbcb9dfe2bfbaa05fcb13b">GetChannelConfig</a>(), outputObjects) == <a class="code" href="_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63.html#a64f7d1f79613cc4dcc49a4efba6caa63ad7c47fea3da641e7422573c6a13dc35e">AK_Success</a>)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">for</span> (<a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> iObj = 0; iObj &lt; numObjsOut; iObj++)</div>
<div class="line">                    {</div>
<div class="line">                        <a class="code" href="struct_ak_audio_object.html">AkAudioObject</a> * pObject = arNewObjects[iObj];</div>
<div class="line">                        pEntry-&gt;apObjectKeys[iObj] = pObject-&gt;<a class="code" href="struct_ak_audio_object_a4b5cc754786f067fa2b3fbed875652d8.html#a4b5cc754786f067fa2b3fbed875652d8">key</a>;</div>
<div class="line">                        </div>
<div class="line">                        <span class="comment">// Copy the input object&#39;s positional metadata, but randomize the actual position.</span></div>
<div class="line">                        pObject-&gt;<a class="code" href="struct_ak_audio_object_a1dccda4d0468b93e4347842a9de4e98e.html#a1dccda4d0468b93e4347842a9de4e98e">positioning</a>.<a class="code" href="struct_ak_positioning_data_ae7f86a6ffe7166f32371ec765111e8bb.html#ae7f86a6ffe7166f32371ec765111e8bb">behavioral</a>.<a class="code" href="struct_ak_behavioral_positioning_data_a135aef56c3da0d202058e13af30ff950.html#a135aef56c3da0d202058e13af30ff950">spatMode</a> = inobj-&gt;<a class="code" href="struct_ak_audio_object_a1dccda4d0468b93e4347842a9de4e98e.html#a1dccda4d0468b93e4347842a9de4e98e">positioning</a>.<a class="code" href="struct_ak_positioning_data_ae7f86a6ffe7166f32371ec765111e8bb.html#ae7f86a6ffe7166f32371ec765111e8bb">behavioral</a>.<a class="code" href="struct_ak_behavioral_positioning_data_a135aef56c3da0d202058e13af30ff950.html#a135aef56c3da0d202058e13af30ff950">spatMode</a>;</div>
<div class="line">                        pObject-&gt;<a class="code" href="struct_ak_audio_object_a1dccda4d0468b93e4347842a9de4e98e.html#a1dccda4d0468b93e4347842a9de4e98e">positioning</a>.<a class="code" href="struct_ak_positioning_data_a835e6eabecf9ecdf86fbf58bfe99d47b.html#a835e6eabecf9ecdf86fbf58bfe99d47b">threeD</a> = inobj-&gt;<a class="code" href="struct_ak_audio_object_a1dccda4d0468b93e4347842a9de4e98e.html#a1dccda4d0468b93e4347842a9de4e98e">positioning</a>.<a class="code" href="struct_ak_positioning_data_a835e6eabecf9ecdf86fbf58bfe99d47b.html#a835e6eabecf9ecdf86fbf58bfe99d47b">threeD</a>;</div>
<div class="line">                        </div>
<div class="line">                        <span class="comment">// Randomize position and assign to output object.</span><span class="comment"></span></div>
<div class="line"><span class="comment">                        /// NOTE: By randomizing position now at object creation time and not updating it with inobj-&gt;positioning, particles will remain fixed with the listener&#39;s head throughout their </span></div>
<div class="line"><span class="comment">                        /// existence. We could choose to instead store an offset in our map and apply it to inobj at each frame. </span></div>
<div class="line"><span class="comment"></span>                        <a class="code" href="struct_ak_vector.html">AkVector</a> pos = ComputeRandomPosition(inobj-&gt;<a class="code" href="struct_ak_audio_object_a1dccda4d0468b93e4347842a9de4e98e.html#a1dccda4d0468b93e4347842a9de4e98e">positioning</a>.<a class="code" href="struct_ak_positioning_data_a835e6eabecf9ecdf86fbf58bfe99d47b.html#a835e6eabecf9ecdf86fbf58bfe99d47b">threeD</a>.<a class="code" href="struct_ak3d_data_a175ec6a58f0c97ab2070e23eb2b016db.html#a175ec6a58f0c97ab2070e23eb2b016db">xform</a>.<a class="code" href="class_ak_transform_a1b2697d425ca3e8e0a5fb0faee87fcd5.html#a1b2697d425ca3e8e0a5fb0faee87fcd5">Position</a>());</div>
<div class="line">                        pObject-&gt;<a class="code" href="struct_ak_audio_object_a1dccda4d0468b93e4347842a9de4e98e.html#a1dccda4d0468b93e4347842a9de4e98e">positioning</a>.<a class="code" href="struct_ak_positioning_data_a835e6eabecf9ecdf86fbf58bfe99d47b.html#a835e6eabecf9ecdf86fbf58bfe99d47b">threeD</a>.<a class="code" href="struct_ak3d_data_a175ec6a58f0c97ab2070e23eb2b016db.html#a175ec6a58f0c97ab2070e23eb2b016db">xform</a>.<a class="code" href="class_ak_transform_a5213b68637f2d661c1cd811af22bee7d.html#a5213b68637f2d661c1cd811af22bee7d">SetPosition</a>(pos);</div>
<div class="line">                    }</div>
<div class="line">                    pEntry-&gt;numObjs = numObjsOut;</div>
<div class="line">                    pEntry-&gt;index = i;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Copy input objects&#39; signal to corresponding output objects. Garbage collect objects (on our side) along the way.</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// We cannot use out_objects because we changed the collection of objects during this call! Use GetOutputObjects instead.</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// First, query the number of objects.</span></div>
<div class="line">    <a class="code" href="struct_ak_audio_objects.html">AkAudioObjects</a> outputObjects;</div>
<div class="line">    outputObjects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a> = 0;</div>
<div class="line">    outputObjects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a> = <span class="keyword">nullptr</span>;</div>
<div class="line">    outputObjects.<a class="code" href="struct_ak_audio_objects_a4332a296e3e6d98688176aa460584853.html#a4332a296e3e6d98688176aa460584853">ppObjects</a> = <span class="keyword">nullptr</span>;</div>
<div class="line">    m_pContext-&gt;GetOutputObjects(outputObjects);</div>
<div class="line">    <span class="keywordflow">if</span> (outputObjects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a> &gt; 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Allocate arrays on the stack and retrieve the output objects.</span></div>
<div class="line">        <a class="code" href="class_ak_audio_buffer.html">AkAudioBuffer</a> ** buffersOut = (<a class="code" href="class_ak_audio_buffer.html">AkAudioBuffer</a> **)<a class="code" href="_win32_2_ak_platform_funcs_8h_aae886a30b939ee13e0abf036fa9e6a15.html#aae886a30b939ee13e0abf036fa9e6a15">AkAlloca</a>(outputObjects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a> * <span class="keyword">sizeof</span>(<a class="code" href="class_ak_audio_buffer.html">AkAudioBuffer</a>*));</div>
<div class="line">        <a class="code" href="struct_ak_audio_object.html">AkAudioObject</a> ** objectsOut = (<a class="code" href="struct_ak_audio_object.html">AkAudioObject</a> **)<a class="code" href="_win32_2_ak_platform_funcs_8h_aae886a30b939ee13e0abf036fa9e6a15.html#aae886a30b939ee13e0abf036fa9e6a15">AkAlloca</a>(outputObjects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a> * <span class="keyword">sizeof</span>(<a class="code" href="struct_ak_audio_object.html">AkAudioObject</a>*));</div>
<div class="line">        m_pContext-&gt;GetOutputObjects(outputObjects);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Iterate through our internal map.</span></div>
<div class="line">        <a class="code" href="class_ak_mixer_input_map.html">AkMixerInputMap&lt;AkAudioObjectID, GeneratedObjects&gt;::Iterator</a> it = m_mapInObjsToOutObjs.<a class="code" href="class_ak_array_a3586641c10c90cdcbd2c67edc5361309.html#a3586641c10c90cdcbd2c67edc5361309">Begin</a>();</div>
<div class="line">        <span class="keywordflow">while</span> (it != m_mapInObjsToOutObjs.<a class="code" href="class_ak_array_a8b3f475890ba0b28b1ee26ef26835789.html#a8b3f475890ba0b28b1ee26ef26835789">End</a>())</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Has the input object been passed to Execute?</span></div>
<div class="line">            <span class="keywordflow">if</span> ((*it).pUserData-&gt;index &gt;= 0)</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Yes. Copy its signal into each of its associated output objects.</span></div>
<div class="line">                <a class="code" href="class_ak_audio_buffer.html">AkAudioBuffer</a>* inbuf = in_objects.<a class="code" href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">ppObjectBuffers</a>[(*it).pUserData-&gt;index];</div>
<div class="line">                <span class="keyword">const</span> <a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> uNumChannels = inbuf-&gt;<a class="code" href="class_ak_audio_buffer_a4523322478ec9a0f9de0c7c72e65df2f.html#a4523322478ec9a0f9de0c7c72e65df2f">NumChannels</a>();</div>
<div class="line">                </div>
<div class="line">                <span class="keywordflow">for</span> (<a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> out = 0; out &lt; (*it).pUserData-&gt;numObjs; out++)</div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// Find output object.</span></div>
<div class="line">                    <a class="code" href="class_ak_audio_buffer.html">AkAudioBuffer</a> * pBufferOut = <span class="keyword">nullptr</span>;</div>
<div class="line">                    <a class="code" href="struct_ak_audio_object.html">AkAudioObject</a> * pObjOut = <span class="keyword">nullptr</span>;</div>
<div class="line">                    <span class="keywordflow">for</span> (<a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> i = 0; i &lt; outputObjects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a>; i++)</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keywordflow">if</span> (objectsOut[i]-&gt;key == (*it).pUserData-&gt;apObjectKeys[out])</div>
<div class="line">                        {</div>
<div class="line">                            pBufferOut = buffersOut[i];</div>
<div class="line">                            pObjOut = objectsOut[i];</div>
<div class="line">                            <span class="keywordflow">break</span>;</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    </div>
<div class="line">                    <span class="keywordflow">if</span> (pObjOut)</div>
<div class="line">                    {</div>
<div class="line">                        <span class="comment">// Copy each channel.</span></div>
<div class="line">                        <span class="keywordflow">for</span> (<a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> j = 0; j &lt; uNumChannels; ++j)</div>
<div class="line">                        {</div>
<div class="line">                            <a class="code" href="_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98.html#afc38459f26e2b23defe588026e886a98">AkReal32</a>* pInBuf = inbuf-&gt;<a class="code" href="class_ak_audio_buffer_ad2bc3b8ddd61eaa0c111798d5f9e8c9c.html#ad2bc3b8ddd61eaa0c111798d5f9e8c9c">GetChannel</a>(j);</div>
<div class="line">                            <a class="code" href="_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98.html#afc38459f26e2b23defe588026e886a98">AkReal32</a>* outBuf = pBufferOut-&gt;<a class="code" href="class_ak_audio_buffer_ad2bc3b8ddd61eaa0c111798d5f9e8c9c.html#ad2bc3b8ddd61eaa0c111798d5f9e8c9c">GetChannel</a>(j);</div>
<div class="line">                            memcpy(outBuf, pInBuf, inbuf-&gt;<a class="code" href="class_ak_audio_buffer_ab7f90fd99119b56e92e4cbf3559f98cd.html#ab7f90fd99119b56e92e4cbf3559f98cd">uValidFrames</a> * <span class="keyword">sizeof</span>(<a class="code" href="_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98.html#afc38459f26e2b23defe588026e886a98">AkReal32</a>));</div>
<div class="line">                        }</div>
<div class="line">                        </div>
<div class="line">                        <span class="comment">// Copy state.</span></div>
<div class="line">                        pBufferOut-&gt;<a class="code" href="class_ak_audio_buffer_ab7f90fd99119b56e92e4cbf3559f98cd.html#ab7f90fd99119b56e92e4cbf3559f98cd">uValidFrames</a> = inbuf-&gt;<a class="code" href="class_ak_audio_buffer_ab7f90fd99119b56e92e4cbf3559f98cd.html#ab7f90fd99119b56e92e4cbf3559f98cd">uValidFrames</a>;</div>
<div class="line">                        pBufferOut-&gt;<a class="code" href="class_ak_audio_buffer_a069d15381980ac4851216e084cf6a0cc.html#a069d15381980ac4851216e084cf6a0cc">eState</a> = inbuf-&gt;<a class="code" href="class_ak_audio_buffer_a069d15381980ac4851216e084cf6a0cc.html#a069d15381980ac4851216e084cf6a0cc">eState</a>;</div>
<div class="line">                        </div>
<div class="line">                        <span class="comment">// Also, since there is a clear association of input objects to output objects, let&#39;s propagate the associated input object&#39;s custom metadata to the output.</span></div>
<div class="line">                        pObjOut-&gt;<a class="code" href="struct_ak_audio_object_a40f457c25d198d643eb3a93fd844771f.html#a40f457c25d198d643eb3a93fd844771f">arCustomMetadata</a>.<a class="code" href="class_ak_array_a8a436cce42c404496e6ebb19072581e6.html#a8a436cce42c404496e6ebb19072581e6">Copy</a>(in_objects.<a class="code" href="struct_ak_audio_objects_a4332a296e3e6d98688176aa460584853.html#a4332a296e3e6d98688176aa460584853">ppObjects</a>[(*it).pUserData-&gt;index]-&gt;<a class="code" href="struct_ak_audio_object_a40f457c25d198d643eb3a93fd844771f.html#a40f457c25d198d643eb3a93fd844771f">arCustomMetadata</a>);</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                (*it).pUserData-&gt;index = -1;    <span class="comment">// &quot;clear&quot; index for next frame.</span></div>
<div class="line">                ++it;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Destroy stale objects.</span></div>
<div class="line">                <span class="comment">// Output objects are collected by the host if we don&#39;t set their eState explicitly to AK_DataReady. </span></div>
<div class="line">                <span class="comment">// However, here we need to get rid of them on our side otherwise our map would grow indefinitely.</span></div>
<div class="line">                it = m_mapInObjsToOutObjs.<a class="code" href="class_ak_mixer_input_map_ad839b271ff3a2213765456cefd569e5c.html#ad839b271ff3a2213765456cefd569e5c">EraseSwap</a>(it);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="soundengine_plugins_objectprocessor_outofplace_setname"></a>
Assigning a Name to an Audio Object</h2>
<p>In the authoring tool's Audio Object Profiler, Audio Objects are given the name of the Wwise Objects from which they were instigated. Output objects of an out-of-place Object Processor are therefore all named with the name of the hosting bus. In order to make profiling easier, it is recommended to use <a class="el" href="struct_ak_audio_object_a0254e6325540e0edec1c72a19a39d70d.html#a0254e6325540e0edec1c72a19a39d70d">AkAudioObject::SetName</a> in order to provide a name to output objects, when it makes sense to do so.</p>
<p>For example, when creating objects in the <a class="el" href="soundengine_plugins_objectprocessor.html#soundengine_plugins_objectprocessor_outofplace_panner">3D Panner</a> above, we could have named them like this:</p>
<div class="fragment"><div class="line"><span class="comment">// FL</span></div>
<div class="line">ppObjects[0]-&gt;<a class="code" href="struct_ak_audio_object_a0254e6325540e0edec1c72a19a39d70d.html#a0254e6325540e0edec1c72a19a39d70d">SetName</a>(in_pAllocator, <span class="stringliteral">&quot;FL&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">//...</span></div>
</div><!-- fragment --><h1><a class="anchor" id="soundengine_plugins_objectprocessor_metadata"></a>
Audio Object Metadata</h1>
<p>The <a class="el" href="struct_ak_audio_object.html">AkAudioObject</a> struct encompasses all the Audio Object metadata that travels along Audio Objects' audio buffers throughout the object pipeline. It can be split in three categories:</p>
<ul>
<li>Identification: <a class="el" href="struct_ak_audio_object_a4b5cc754786f067fa2b3fbed875652d8.html#a4b5cc754786f067fa2b3fbed875652d8" title="Unique ID, local to a given bus. Only the lower 56 of 64 bits are used for the object itself....">AkAudioObject::key</a>, <a class="el" href="struct_ak_audio_object_aa66019a628335335705ba44114bd2484.html#aa66019a628335335705ba44114bd2484" title="Profiling ID of the node from which the object stems (typically the voice, instance of an actor-mixer...">AkAudioObject::instigatorID</a> and <a class="el" href="struct_ak_audio_object_a091f4368a679f03a5c00d2ac6fce2371.html#a091f4368a679f03a5c00d2ac6fce2371" title="Name string of the object, to appear in the object profiler. This is normally used by out-of-place ob...">AkAudioObject::objectName</a>. They must never be written to by an Object Processor, except objectName which out-of-place Object Processors may set using <a class="el" href="struct_ak_audio_object_a0254e6325540e0edec1c72a19a39d70d.html#a0254e6325540e0edec1c72a19a39d70d">AkAudioObject::SetName</a>.</li>
<li>Positioning information: <a class="el" href="struct_ak_audio_object_a1dccda4d0468b93e4347842a9de4e98e.html#a1dccda4d0468b93e4347842a9de4e98e" title="Positioning data for deferred 3D rendering.">AkAudioObject::positioning</a>, discussed below in <a class="el" href="soundengine_plugins_objectprocessor.html#soundengine_plugins_objectprocessor_metadata_positioning">Positioning Metadata</a>.</li>
<li>Cumulative Gain: <a class="el" href="struct_ak_audio_object_a3013d844d7544da19d30cf90bef6aef5.html#a3013d844d7544da19d30cf90bef6aef5" title="Cumulative ramping gain to apply when mixing down to speaker bed or final endpoint.">AkAudioObject::cumulativeGain</a>, discussed below in <a class="el" href="soundengine_plugins_objectprocessor.html#soundengine_plugins_objectprocessor_metadata_cumulativegain">Cumulative Gain Metadata</a>.</li>
<li>Custom metadata plug-ins: <a class="el" href="struct_ak_audio_object_a40f457c25d198d643eb3a93fd844771f.html#a40f457c25d198d643eb3a93fd844771f" title="Array of custom metadata, gathered from visited objects. Note: any custom metadata is expected to exi...">AkAudioObject::arCustomMetadata</a>, discussed below in <a class="el" href="soundengine_plugins_objectprocessor.html#soundengine_plugins_objectprocessor_metadata_custom">Custom Metadata Plug-Ins</a>.</li>
</ul>
<h2><a class="anchor" id="soundengine_plugins_objectprocessor_metadata_positioning"></a>
Positioning Metadata</h2>
<p>An Audio Object carries in <a class="el" href="struct_ak_audio_object_a1dccda4d0468b93e4347842a9de4e98e.html#a1dccda4d0468b93e4347842a9de4e98e" title="Positioning data for deferred 3D rendering.">AkAudioObject::positioning</a> the positioning data of the sound from which it was instigated. <code>AkAudioObject::positioning.behavioral</code> holds all the relevant positioning settings that can be found on Wwise Objects. For example, if the sound uses speaker panning, <code>AkAudioObject::positioning.behavioral.panType</code> will be set to one of the panner types, and <code>panLR</code>, <code>panBF</code> and <code>panDU</code> will correspond to the position of the panner.</p>
<p>If the spatialization mode is 3D (<code>AK_SpatializationMode_PositionOnly</code> or <code>AK_SpatializationMode_PositionAndOrientation</code>), <code>AkAudioObject::positioning.threeD</code> contains all the data that relates to the 3D position:</p>
<ul>
<li><code>AkAudioObject::positioning.threeD.xform</code> will typically inherit the position of the associated game object, although it can be modified or overriden for each sound depending on its 3D positioning settings, such as 3D automation.</li>
<li><code>AkAudioObject::positioning.threeD.spread</code> and <code>AkAudioObject::positioning.threeD.focus</code> are usually calculated from the Attenuation Curves.</li>
</ul>
<h2><a class="anchor" id="soundengine_plugins_objectprocessor_metadata_cumulativegain"></a>
Cumulative Gain Metadata</h2>
<p>An Audio Object carries with it the cumulative gain that has been applied upstream, such as the setting of a source's Volume, or changes in gain from busses and connections between busses. In a simple scenario, with no Effects or Object Processors, this means the gain of an Audio Object isn't applied to its audio signal until it's finally mixed down into a speaker bed, or sent to the system output as an Audio Object. This results in an audio mix that changes smoothly by avoiding ramping gains to an Audio Object's audio signal multiple times in a frame, especially when Audio Objects are created and destroyed due to Game Objects adding or removing positions.</p>
<p>Support for this metadata is optional for Object Processors and enabled by setting <code>IAkPluginInfo::bUsesGainAttribute</code> to true in the Object Processor's implementation of <code>IAkPlugin::GetPluginInfo</code>. If bUsesGainAttribute is left to false, then all audio buffers passed to Execute will have the cumulative gain of the Audio Object applied before execution, and the gain passed to the Object Processor will be neutral. However, if bUsesGainAttribute is set to true, then the audio buffers will not be modified, and the cumulative gain may be a non-unit value. This allows the Object Processor to acknowledge the gain as needed, and also modify the cumulative gain of the Audio Object as desired.</p>
<p>If the cumulative gain of the Audio Object is to be modified, take note that the value is an <code><a class="el" href="struct_ak_ramp.html" title="Volume ramp specified by end points &quot;previous&quot; and &quot;next&quot;.">AkRamp</a></code>, and continuity of the fNext value on one frame to the fPrev value on the next frame is not automatically handled by the sound engine. That is, if an Object Processor intends to modify fNext on one frame, then the same modification must be applied to fPrev on the next frame. If this is not managed properly, there may be audio glitches, or discontinuities in the audio signal, when some other part of the audio pipeline has to consume the Audio Object's gain.</p>
<h2><a class="anchor" id="soundengine_plugins_objectprocessor_metadata_3dtransform"></a>
On 3D Transformations</h2>
<p>If the spatialization mode <code>AkAudioObject::positioning.behavioral.spatMode</code> is 3D (<code>AK_SpatializationMode_PositionOnly</code> or <code>AK_SpatializationMode_PositionAndOrientation</code>), the 3D position is transformed (translated and rotated) such that it is relative to the game object (listener) associated to the bus in which it travels. For example, a sound may be positioned at (2, 0, 0); when it is processed by an Audio Object bus associated to a listener at (10, 0, 0), the resulting Audio Object will be positioned at (-8, 0, 0). Object Processors on this bus will "see" the Audio Object as being located at (-8, 0, 0).</p>
<p>The coordinate system in Wwise is left-handed and the default orientation's front vector points towards Z and the top vector points towards Y, as defined in <a class="el" href="_ak_common_defs_8h.html">AkCommonDefs.h</a>.</p>
<div class="fragment"><div class="line"><span class="comment">/// Default listener transform.</span></div>
<div class="line"><span class="comment"></span><span class="preprocessor">#define AK_DEFAULT_LISTENER_POSITION_X (0.0f)               // at coordinate system&#39;s origin</span></div>
<div class="line"><span class="preprocessor">#define AK_DEFAULT_LISTENER_POSITION_Y (0.0f)</span></div>
<div class="line"><span class="preprocessor">#define AK_DEFAULT_LISTENER_POSITION_Z (0.0f)</span></div>
<div class="line"><span class="preprocessor">#define AK_DEFAULT_LISTENER_FRONT_X    (0.0f)               // looking toward Z,</span></div>
<div class="line"><span class="preprocessor">#define AK_DEFAULT_LISTENER_FRONT_Y    (0.0f)</span></div>
<div class="line"><span class="preprocessor">#define AK_DEFAULT_LISTENER_FRONT_Z    (1.0f)</span></div>
<div class="line"><span class="preprocessor">#define AK_DEFAULT_TOP_X               (0.0f)               // top towards Y</span></div>
<div class="line"><span class="preprocessor">#define AK_DEFAULT_TOP_Y               (1.0f)</span></div>
<div class="line"><span class="preprocessor">#define AK_DEFAULT_TOP_Z               (0.0f)</span></div>
</div><!-- fragment --><p>With the <a class="el" href="soundengine_plugins_objectprocessor.html#soundengine_plugins_objectprocessor_outofplace_binauralizer">Software Binauralizer</a>, for example, input objects have been rotated prior to reaching the plug-in, such that positive Z is to the front of the listener, positive X is to its right, and so on. This is also why the service <a class="el" href="class_a_k_1_1_i_ak_mixer_plugin_context_a0d39528d0bf01ec4e08bc20956dfce2c.html#a0d39528d0bf01ec4e08bc20956dfce2c">AK::IAkMixerPluginContext::ComputePositioning</a> used in that example does not take the listener's orientation: it assumes default orientation.</p>
<p>In the <a class="el" href="soundengine_plugins_objectprocessor.html#soundengine_plugins_objectprocessor_outofplace_panner">3D Panner</a> example above, (-0.707, 0, 0.707) thus points at 45 degrees towards the front left of the game object associated to the hosting bus.</p>
<h2><a class="anchor" id="soundengine_plugins_objectprocessor_metadata_custom"></a>
Custom Metadata Plug-Ins</h2>
<p>Object Processors are able to access custom metadata attached to Audio Objects.</p>
<p>Custom metadata is a type of plug-in that only consists of a set of parameters. In the authoring, metadata plug-ins can be added on any Wwise Object, and they support ShareSets. In the sound engine, they implement the <a class="el" href="class_a_k_1_1_i_ak_plugin_param.html">AK::IAkPluginParam</a> interface.</p>
<p>At every frame, Audio Objects gather all the metadata plug-ins attached to the Sound from which they were instigated, if applicable, and adds them to their <a class="el" href="struct_ak_audio_object_a40f457c25d198d643eb3a93fd844771f.html#a40f457c25d198d643eb3a93fd844771f" title="Array of custom metadata, gathered from visited objects. Note: any custom metadata is expected to exi...">AkAudioObject::arCustomMetadata</a> array. Then, they gather all the metadata plug-ins attached to every bus they visit. Object Processors, in-place or out-of-place, can read this array. Of course, they need to know about the plug-in in order to interpret its content.</p>
<p>The implementor of an Object Processor can write one or multiple companion metadata plugins that users can add to Wwise Objects.</p>
<p>For example, imagine that in the Software Binauralizer described previously (see <a class="el" href="soundengine_plugins_objectprocessor.html#soundengine_plugins_objectprocessor_outofplace_binauralizer">Software Binauralizer</a>), you want to support a passthrough mode, so that certain sounds don't undergo HRTF filtering. You would create a companion metadata plug-in ObjectBinauralizerMetadata with a boolean property called Passthrough. Your users would be able to add this plug-in to any Wwise Object they want to opt out of HRTF. Then, in your Object Processor's Execute():</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (<a class="code" href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a> i = 0; i &lt; in_objects.<a class="code" href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">uNumObjects</a>; ++i)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Assume that Passthrough Mode is false if there isn&#39;t an ObjectBinauralizerMetadata metadata on the Audio Object. </span></div>
<div class="line">    <span class="keywordtype">bool</span> bPassthrough = <span class="keyword">false</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Search for it.</span></div>
<div class="line">    <span class="keywordflow">for</span> (AkAudioObject::ArrayCustomMetadata::Iterator it = in_objects.<a class="code" href="struct_ak_audio_objects_a4332a296e3e6d98688176aa460584853.html#a4332a296e3e6d98688176aa460584853">ppObjects</a>[i]-&gt;<a class="code" href="struct_ak_audio_object_a40f457c25d198d643eb3a93fd844771f.html#a40f457c25d198d643eb3a93fd844771f">arCustomMetadata</a>.<a class="code" href="class_ak_array_a3586641c10c90cdcbd2c67edc5361309.html#a3586641c10c90cdcbd2c67edc5361309">Begin</a>(); it != in_objects.<a class="code" href="struct_ak_audio_objects_a4332a296e3e6d98688176aa460584853.html#a4332a296e3e6d98688176aa460584853">ppObjects</a>[i]-&gt;<a class="code" href="struct_ak_audio_object_a40f457c25d198d643eb3a93fd844771f.html#a40f457c25d198d643eb3a93fd844771f">arCustomMetadata</a>.<a class="code" href="class_ak_array_a8b3f475890ba0b28b1ee26ef26835789.html#a8b3f475890ba0b28b1ee26ef26835789">End</a>(); ++it)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ((*it).pluginID == <a class="code" href="_ak_common_defs_8h_ac73a5e1e4a45a0aeea1b11b08ba93516.html#ac73a5e1e4a45a0aeea1b11b08ba93516">AKMAKECLASSID</a>(<a class="code" href="_common_2_ak_types_8h_a1a77eb101e82e7d712f25e2a6394ac4c.html#a1a77eb101e82e7d712f25e2a6394ac4ca805da301d83f3e29583c5199ccb66f66">AkPluginTypeMetadata</a>, MYCOMPANYID, OBJECT_BINAURALIZER_METADATA_ID))</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// The metadata plugin ID matches the type we are looking for. We can thus safely cast the AK::IAkPluginParam to a known type.</span></div>
<div class="line">            ObjectBinauralizerMetadata * pMetadata = (ObjectBinauralizerMetadata*)(*it).pParam;</div>
<div class="line">            bPassthrough = pMetadata-&gt;bPassthrough;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Do something with bPassthrough</span></div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line">}</div>
</div><!-- fragment --><table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Note.gif" alt="" class="inline"/></td><td><b>Note:</b> Since Audio Objects gather metadata plug-ins from each visited Wwise Object, it is possible that you find several instances of the same plug-in type on a single Audio Object. It is up to you to determine what the policy is when that happens, and inform your users. </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="a_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63_html_a64f7d1f79613cc4dcc49a4efba6caa63a906fa026b1f04805d30bc474677e73ca"><div class="ttname"><a href="_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63.html#a64f7d1f79613cc4dcc49a4efba6caa63a906fa026b1f04805d30bc474677e73ca">AK_UnsupportedChannelConfig</a></div><div class="ttdeci">@ AK_UnsupportedChannelConfig</div><div class="ttdoc">Channel configuration is not supported in the current execution context.</div><div class="ttdef"><b>Definition:</b> <a href="_common_2_ak_types_8h_source.html#l00260">AkTypes.h:260</a></div></div>
<div class="ttc" id="a_ak_speaker_config_8h_a15b620987b17cea4c8dca72443f3ac96_html_a15b620987b17cea4c8dca72443f3ac96"><div class="ttname"><a href="_ak_speaker_config_8h_a15b620987b17cea4c8dca72443f3ac96.html#a15b620987b17cea4c8dca72443f3ac96">AK_SPEAKER_SETUP_MONO</a></div><div class="ttdeci">#define AK_SPEAKER_SETUP_MONO</div><div class="ttdoc">1.0 setup channel mask</div><div class="ttdef"><b>Definition:</b> <a href="_ak_speaker_config_8h_source.html#l00057">AkSpeakerConfig.h:57</a></div></div>
<div class="ttc" id="aclass_ak_audio_buffer_ad2bc3b8ddd61eaa0c111798d5f9e8c9c_html_ad2bc3b8ddd61eaa0c111798d5f9e8c9c"><div class="ttname"><a href="class_ak_audio_buffer_ad2bc3b8ddd61eaa0c111798d5f9e8c9c.html#ad2bc3b8ddd61eaa0c111798d5f9e8c9c">AkAudioBuffer::GetChannel</a></div><div class="ttdeci">AkSampleType * GetChannel(AkUInt32 in_uIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00574">AkCommonDefs.h:574</a></div></div>
<div class="ttc" id="astruct_ak_audio_object_a1dccda4d0468b93e4347842a9de4e98e_html_a1dccda4d0468b93e4347842a9de4e98e"><div class="ttname"><a href="struct_ak_audio_object_a1dccda4d0468b93e4347842a9de4e98e.html#a1dccda4d0468b93e4347842a9de4e98e">AkAudioObject::positioning</a></div><div class="ttdeci">AkPositioningData positioning</div><div class="ttdoc">Positioning data for deferred 3D rendering.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00323">AkCommonDefs.h:323</a></div></div>
<div class="ttc" id="aclass_ak_audio_buffer_a7601d9b814dbcb9dfe2bfbaa05fcb13b_html_a7601d9b814dbcb9dfe2bfbaa05fcb13b"><div class="ttname"><a href="class_ak_audio_buffer_a7601d9b814dbcb9dfe2bfbaa05fcb13b.html#a7601d9b814dbcb9dfe2bfbaa05fcb13b">AkAudioBuffer::GetChannelConfig</a></div><div class="ttdeci">AkForceInline AkChannelConfig GetChannelConfig() const</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00501">AkCommonDefs.h:501</a></div></div>
<div class="ttc" id="a_common_2_ak_types_8h_a6cadc0376ae4f945438db69f6306f21a_html_a6cadc0376ae4f945438db69f6306f21a"><div class="ttname"><a href="_common_2_ak_types_8h_a6cadc0376ae4f945438db69f6306f21a.html#a6cadc0376ae4f945438db69f6306f21a">AkAudioObjectID</a></div><div class="ttdeci">AkUInt64 AkAudioObjectID</div><div class="ttdoc">Audio Object ID.</div><div class="ttdef"><b>Definition:</b> <a href="_common_2_ak_types_8h_source.html#l00170">AkTypes.h:170</a></div></div>
<div class="ttc" id="aclass_ak_array_a8a436cce42c404496e6ebb19072581e6_html_a8a436cce42c404496e6ebb19072581e6"><div class="ttname"><a href="class_ak_array_a8a436cce42c404496e6ebb19072581e6.html#a8a436cce42c404496e6ebb19072581e6">AkArray::Copy</a></div><div class="ttdeci">AKRESULT Copy(const AkArray&lt; T, ARG_T, TAlloc, TGrowBy, TMovePolicy &gt; &amp;in_rSource)</div><div class="ttdef"><b>Definition:</b> <a href="_ak_array_8h_source.html#l00865">AkArray.h:865</a></div></div>
<div class="ttc" id="aclass_a_k_1_1_i_ak_plugin_param_html"><div class="ttname"><a href="class_a_k_1_1_i_ak_plugin_param.html">AK::IAkPluginParam</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_ak_plugin_8h_source.html#l00619">IAkPlugin.h:620</a></div></div>
<div class="ttc" id="astruct_ak_audio_object_a4b5cc754786f067fa2b3fbed875652d8_html_a4b5cc754786f067fa2b3fbed875652d8"><div class="ttname"><a href="struct_ak_audio_object_a4b5cc754786f067fa2b3fbed875652d8.html#a4b5cc754786f067fa2b3fbed875652d8">AkAudioObject::key</a></div><div class="ttdeci">AkAudioObjectID key</div><div class="ttdoc">Unique ID, local to a given bus. Only the lower 56 of 64 bits are used for the object itself....</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00321">AkCommonDefs.h:321</a></div></div>
<div class="ttc" id="aclass_ak_transform_a1b2697d425ca3e8e0a5fb0faee87fcd5_html_a1b2697d425ca3e8e0a5fb0faee87fcd5"><div class="ttname"><a href="class_ak_transform_a1b2697d425ca3e8e0a5fb0faee87fcd5.html#a1b2697d425ca3e8e0a5fb0faee87fcd5">AkTransform::Position</a></div><div class="ttdeci">const AkVector &amp; Position() const</div><div class="ttdoc">Get position vector.</div><div class="ttdef"><b>Definition:</b> <a href="_common_2_ak_types_8h_source.html#l00620">AkTypes.h:620</a></div></div>
<div class="ttc" id="aclass_ak_audio_buffer_a4523322478ec9a0f9de0c7c72e65df2f_html_a4523322478ec9a0f9de0c7c72e65df2f"><div class="ttname"><a href="class_ak_audio_buffer_a4523322478ec9a0f9de0c7c72e65df2f.html#a4523322478ec9a0f9de0c7c72e65df2f">AkAudioBuffer::NumChannels</a></div><div class="ttdeci">AkForceInline AkUInt32 NumChannels() const</div><div class="ttdoc">Get the number of channels.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00490">AkCommonDefs.h:490</a></div></div>
<div class="ttc" id="astruct_ak_channel_config_html"><div class="ttname"><a href="struct_ak_channel_config.html">AkChannelConfig</a></div><div class="ttdef"><b>Definition:</b> <a href="_ak_speaker_config_8h_source.html#l00495">AkSpeakerConfig.h:496</a></div></div>
<div class="ttc" id="a_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63_html_a64f7d1f79613cc4dcc49a4efba6caa63"><div class="ttname"><a href="_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63.html#a64f7d1f79613cc4dcc49a4efba6caa63">AKRESULT</a></div><div class="ttdeci">AKRESULT</div><div class="ttdoc">Standard function call result.</div><div class="ttdef"><b>Definition:</b> <a href="_common_2_ak_types_8h_source.html#l00212">AkTypes.h:213</a></div></div>
<div class="ttc" id="astruct_ak_channel_config_a8fc646976d669b0b0bdf81371c2a2f76_html_a8fc646976d669b0b0bdf81371c2a2f76"><div class="ttname"><a href="struct_ak_channel_config_a8fc646976d669b0b0bdf81371c2a2f76.html#a8fc646976d669b0b0bdf81371c2a2f76">AkChannelConfig::uChannelMask</a></div><div class="ttdeci">AkUInt32 uChannelMask</div><div class="ttdoc">Channel mask (configuration).</div><div class="ttdef"><b>Definition:</b> <a href="_ak_speaker_config_8h_source.html#l00503">AkSpeakerConfig.h:503</a></div></div>
<div class="ttc" id="anamespace_a_k_1_1_speaker_volumes_1_1_matrix_a59458aba2b1be3fa678021a3aea813b9_html_a59458aba2b1be3fa678021a3aea813b9"><div class="ttname"><a href="namespace_a_k_1_1_speaker_volumes_1_1_matrix_a59458aba2b1be3fa678021a3aea813b9.html#a59458aba2b1be3fa678021a3aea813b9">AK::SpeakerVolumes::Matrix::GetRequiredSize</a></div><div class="ttdeci">AkForceInline AkUInt32 GetRequiredSize(AkUInt32 in_uNumChannelsIn, AkUInt32 in_uNumChannelsOut)</div><div class="ttdoc">Compute size (in bytes) required for given channel configurations.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_speaker_volumes_8h_source.html#l00150">AkSpeakerVolumes.h:150</a></div></div>
<div class="ttc" id="a_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63_html_a64f7d1f79613cc4dcc49a4efba6caa63a94ba10d374d31161770fc490e0245802"><div class="ttname"><a href="_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63.html#a64f7d1f79613cc4dcc49a4efba6caa63a94ba10d374d31161770fc490e0245802">AK_NoMoreData</a></div><div class="ttdeci">@ AK_NoMoreData</div><div class="ttdoc">No more data is available from the source.</div><div class="ttdef"><b>Definition:</b> <a href="_common_2_ak_types_8h_source.html#l00226">AkTypes.h:226</a></div></div>
<div class="ttc" id="a_common_2_ak_platform_funcs_8h_a15796d12dad1c8d1cedd0fb680b318dd_html_a15796d12dad1c8d1cedd0fb680b318dd"><div class="ttname"><a href="_common_2_ak_platform_funcs_8h_a15796d12dad1c8d1cedd0fb680b318dd.html#a15796d12dad1c8d1cedd0fb680b318dd">AkAllocaSIMD</a></div><div class="ttdeci">#define AkAllocaSIMD(_size_)</div><div class="ttdef"><b>Definition:</b> <a href="_common_2_ak_platform_funcs_8h_source.html#l00105">AkPlatformFuncs.h:105</a></div></div>
<div class="ttc" id="astruct_ak_audio_format_a73de76fa89ed81baa5265448bd6deefe_html_a73de76fa89ed81baa5265448bd6deefe"><div class="ttname"><a href="struct_ak_audio_format_a73de76fa89ed81baa5265448bd6deefe.html#a73de76fa89ed81baa5265448bd6deefe">AkAudioFormat::channelConfig</a></div><div class="ttdeci">AkChannelConfig channelConfig</div><div class="ttdoc">Channel configuration.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00065">AkCommonDefs.h:65</a></div></div>
<div class="ttc" id="anamespace_a_k_1_1_speaker_volumes_1_1_matrix_a46351431a388d100fc2676b4aa3dad0c_html_a46351431a388d100fc2676b4aa3dad0c"><div class="ttname"><a href="namespace_a_k_1_1_speaker_volumes_1_1_matrix_a46351431a388d100fc2676b4aa3dad0c.html#a46351431a388d100fc2676b4aa3dad0c">AK::SpeakerVolumes::Matrix::Zero</a></div><div class="ttdeci">AkForceInline void Zero(MatrixPtr in_pVolumes, AkUInt32 in_uNumChannelsIn, AkUInt32 in_uNumChannelsOut)</div><div class="ttdoc">Clear matrix.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_speaker_volumes_8h_source.html#l00196">AkSpeakerVolumes.h:196</a></div></div>
<div class="ttc" id="anamespace_a_k_1_1_comm_a596691b552b507c26b4df958ee1c6de8_html_a596691b552b507c26b4df958ee1c6de8"><div class="ttname"><a href="namespace_a_k_1_1_comm_a596691b552b507c26b4df958ee1c6de8.html#a596691b552b507c26b4df958ee1c6de8">AK::Comm::Init</a></div><div class="ttdeci">AKSOUNDENGINE_API AKRESULT Init(const AkCommSettings &amp;in_settings)</div></div>
<div class="ttc" id="a_ak_speaker_config_8h_a9e3e31d9ff388daa593222da7672a999_html_a9e3e31d9ff388daa593222da7672a999a338b59e9d7624cbc47fab92e22bc55cc"><div class="ttname"><a href="_ak_speaker_config_8h_a9e3e31d9ff388daa593222da7672a999.html#a9e3e31d9ff388daa593222da7672a999a338b59e9d7624cbc47fab92e22bc55cc">AK_ChannelConfigType_Objects</a></div><div class="ttdeci">@ AK_ChannelConfigType_Objects</div><div class="ttdoc">Object-based configurations.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_speaker_config_8h_source.html#l00470">AkSpeakerConfig.h:470</a></div></div>
<div class="ttc" id="a_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98_html_afc38459f26e2b23defe588026e886a98"><div class="ttname"><a href="_ak_numeral_types_8h_afc38459f26e2b23defe588026e886a98.html#afc38459f26e2b23defe588026e886a98">AkReal32</a></div><div class="ttdeci">float AkReal32</div><div class="ttdoc">32-bit floating point</div><div class="ttdef"><b>Definition:</b> <a href="_ak_numeral_types_8h_source.html#l00046">AkNumeralTypes.h:46</a></div></div>
<div class="ttc" id="a_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63_html_a64f7d1f79613cc4dcc49a4efba6caa63ad7c47fea3da641e7422573c6a13dc35e"><div class="ttname"><a href="_common_2_ak_types_8h_a64f7d1f79613cc4dcc49a4efba6caa63.html#a64f7d1f79613cc4dcc49a4efba6caa63ad7c47fea3da641e7422573c6a13dc35e">AK_Success</a></div><div class="ttdeci">@ AK_Success</div><div class="ttdoc">The operation was successful.</div><div class="ttdef"><b>Definition:</b> <a href="_common_2_ak_types_8h_source.html#l00215">AkTypes.h:215</a></div></div>
<div class="ttc" id="aclass_ak_audio_buffer_a069d15381980ac4851216e084cf6a0cc_html_a069d15381980ac4851216e084cf6a0cc"><div class="ttname"><a href="class_ak_audio_buffer_a069d15381980ac4851216e084cf6a0cc.html#a069d15381980ac4851216e084cf6a0cc">AkAudioBuffer::eState</a></div><div class="ttdeci">AKRESULT eState</div><div class="ttdoc">Execution status.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00649">AkCommonDefs.h:649</a></div></div>
<div class="ttc" id="a_i_ak_plugin_8h_a4793694b5f18e4334d12f70a4da40e04_html_a4793694b5f18e4334d12f70a4da40e04"><div class="ttname"><a href="_i_ak_plugin_8h_a4793694b5f18e4334d12f70a4da40e04.html#a4793694b5f18e4334d12f70a4da40e04">AK_GET_PLUGIN_SERVICE_MIXER</a></div><div class="ttdeci">#define AK_GET_PLUGIN_SERVICE_MIXER(plugin_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="_i_ak_plugin_8h_source.html#l01752">IAkPlugin.h:1752</a></div></div>
<div class="ttc" id="aclass_ak_audio_buffer_ab7f90fd99119b56e92e4cbf3559f98cd_html_ab7f90fd99119b56e92e4cbf3559f98cd"><div class="ttname"><a href="class_ak_audio_buffer_ab7f90fd99119b56e92e4cbf3559f98cd.html#ab7f90fd99119b56e92e4cbf3559f98cd">AkAudioBuffer::uValidFrames</a></div><div class="ttdeci">AkUInt16 uValidFrames</div><div class="ttdoc">Number of valid sample frames in the audio buffer.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00655">AkCommonDefs.h:655</a></div></div>
<div class="ttc" id="astruct_ak_audio_object_html"><div class="ttname"><a href="struct_ak_audio_object.html">AkAudioObject</a></div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00301">AkCommonDefs.h:302</a></div></div>
<div class="ttc" id="astruct_ak_audio_object_a0254e6325540e0edec1c72a19a39d70d_html_a0254e6325540e0edec1c72a19a39d70d"><div class="ttname"><a href="struct_ak_audio_object_a0254e6325540e0edec1c72a19a39d70d.html#a0254e6325540e0edec1c72a19a39d70d">AkAudioObject::SetName</a></div><div class="ttdeci">AKRESULT SetName(AK::IAkPluginMemAlloc *in_pAllocator, const char *in_szName)</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00406">AkCommonDefs.h:406</a></div></div>
<div class="ttc" id="a_ak_common_defs_8h_ac73a5e1e4a45a0aeea1b11b08ba93516_html_ac73a5e1e4a45a0aeea1b11b08ba93516"><div class="ttname"><a href="_ak_common_defs_8h_ac73a5e1e4a45a0aeea1b11b08ba93516.html#ac73a5e1e4a45a0aeea1b11b08ba93516">AKMAKECLASSID</a></div><div class="ttdeci">#define AKMAKECLASSID(in_pluginType, in_companyID, in_pluginID)</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00189">AkCommonDefs.h:189</a></div></div>
<div class="ttc" id="aclass_a_k_1_1_i_ak_plugin_mem_alloc_html"><div class="ttname"><a href="class_a_k_1_1_i_ak_plugin_mem_alloc.html">AK::IAkPluginMemAlloc</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_ak_plugin_mem_alloc_8h_source.html#l00042">IAkPluginMemAlloc.h:43</a></div></div>
<div class="ttc" id="aclass_ak_mixer_input_map_ad9acf848722f5fb49c1184fc89aff4a2_html_ad9acf848722f5fb49c1184fc89aff4a2"><div class="ttname"><a href="class_ak_mixer_input_map_ad9acf848722f5fb49c1184fc89aff4a2.html#ad9acf848722f5fb49c1184fc89aff4a2">AkMixerInputMap::Exists</a></div><div class="ttdeci">USER_DATA * Exists(KEY in_key)</div><div class="ttdoc">Returns the user data associated with given input context. Returns NULL if none found.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_mixer_input_map_8h_source.html#l00079">AkMixerInputMap.h:79</a></div></div>
<div class="ttc" id="astruct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6_html_a0684629542f01bb629b5056edb4880e6"><div class="ttname"><a href="struct_ak_audio_objects_a0684629542f01bb629b5056edb4880e6.html#a0684629542f01bb629b5056edb4880e6">AkAudioObjects::ppObjectBuffers</a></div><div class="ttdeci">AkAudioBuffer ** ppObjectBuffers</div><div class="ttdoc">Array of pointers to audio object buffers.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00668">AkCommonDefs.h:668</a></div></div>
<div class="ttc" id="aclass_ak_mixer_input_map_aa8e0ad3d5ecd8a24cc4c5011b4ffb1c9_html_aa8e0ad3d5ecd8a24cc4c5011b4ffb1c9"><div class="ttname"><a href="class_ak_mixer_input_map_aa8e0ad3d5ecd8a24cc4c5011b4ffb1c9.html#aa8e0ad3d5ecd8a24cc4c5011b4ffb1c9">AkMixerInputMap::AddInput</a></div><div class="ttdeci">USER_DATA * AddInput(KEY in_key)</div><div class="ttdoc">Adds an input with new user data.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_mixer_input_map_8h_source.html#l00086">AkMixerInputMap.h:86</a></div></div>
<div class="ttc" id="a_ak_assert_8h_ac0e6cc4061c0a7c154a8c921a0af74cb_html_ac0e6cc4061c0a7c154a8c921a0af74cb"><div class="ttname"><a href="_ak_assert_8h_ac0e6cc4061c0a7c154a8c921a0af74cb.html#ac0e6cc4061c0a7c154a8c921a0af74cb">AKASSERT</a></div><div class="ttdeci">#define AKASSERT(Condition)</div><div class="ttdef"><b>Definition:</b> <a href="_ak_assert_8h_source.html#l00067">AkAssert.h:67</a></div></div>
<div class="ttc" id="astruct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a_html_a9408cb0a160b5e02ce1bc2d2bd63e73a"><div class="ttname"><a href="struct_ak_audio_objects_a9408cb0a160b5e02ce1bc2d2bd63e73a.html#a9408cb0a160b5e02ce1bc2d2bd63e73a">AkAudioObjects::uNumObjects</a></div><div class="ttdeci">AkUInt32 uNumObjects</div><div class="ttdoc">Number of audio objects.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00667">AkCommonDefs.h:667</a></div></div>
<div class="ttc" id="astruct_ak_audio_object_a40f457c25d198d643eb3a93fd844771f_html_a40f457c25d198d643eb3a93fd844771f"><div class="ttname"><a href="struct_ak_audio_object_a40f457c25d198d643eb3a93fd844771f.html#a40f457c25d198d643eb3a93fd844771f">AkAudioObject::arCustomMetadata</a></div><div class="ttdeci">ArrayCustomMetadata arCustomMetadata</div><div class="ttdoc">Array of custom metadata, gathered from visited objects. Note: any custom metadata is expected to exi...</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00353">AkCommonDefs.h:353</a></div></div>
<div class="ttc" id="aclass_ak_array_a8b3f475890ba0b28b1ee26ef26835789_html_a8b3f475890ba0b28b1ee26ef26835789"><div class="ttname"><a href="class_ak_array_a8b3f475890ba0b28b1ee26ef26835789.html#a8b3f475890ba0b28b1ee26ef26835789">AkArray&lt; AkInputMapSlot&lt; KEY, USER_DATA &gt;, const AkInputMapSlot&lt; KEY, USER_DATA &gt; &amp;, AkPluginArrayAllocator &gt;::End</a></div><div class="ttdeci">Iterator End() const</div><div class="ttdoc">Returns the iterator to the end of the array.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_array_8h_source.html#l00352">AkArray.h:352</a></div></div>
<div class="ttc" id="astruct_ak_positioning_data_ae7f86a6ffe7166f32371ec765111e8bb_html_ae7f86a6ffe7166f32371ec765111e8bb"><div class="ttname"><a href="struct_ak_positioning_data_ae7f86a6ffe7166f32371ec765111e8bb.html#ae7f86a6ffe7166f32371ec765111e8bb">AkPositioningData::behavioral</a></div><div class="ttdeci">AkBehavioralPositioningData behavioral</div><div class="ttdoc">Positioning data inherited from sound structures and mix busses.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00290">AkCommonDefs.h:290</a></div></div>
<div class="ttc" id="aclass_ak_mixer_input_map_ad839b271ff3a2213765456cefd569e5c_html_ad839b271ff3a2213765456cefd569e5c"><div class="ttname"><a href="class_ak_mixer_input_map_ad839b271ff3a2213765456cefd569e5c.html#ad839b271ff3a2213765456cefd569e5c">AkMixerInputMap::EraseSwap</a></div><div class="ttdeci">AkArray&lt; AkInputMapSlot&lt; KEY, USER_DATA &gt;, const AkInputMapSlot&lt; KEY, USER_DATA &gt; &amp;, AkPluginArrayAllocator &gt;::Iterator EraseSwap(typename AkArray&lt; AkInputMapSlot&lt; KEY, USER_DATA &gt;, const AkInputMapSlot&lt; KEY, USER_DATA &gt; &amp;, AkPluginArrayAllocator &gt;::Iterator &amp;in_rIter)</div><div class="ttdoc">Erase the specified iterator in the array. but it does not guarantee the ordering in the array.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_mixer_input_map_8h_source.html#l00123">AkMixerInputMap.h:123</a></div></div>
<div class="ttc" id="aclass_ak_array_a3586641c10c90cdcbd2c67edc5361309_html_a3586641c10c90cdcbd2c67edc5361309"><div class="ttname"><a href="class_ak_array_a3586641c10c90cdcbd2c67edc5361309.html#a3586641c10c90cdcbd2c67edc5361309">AkArray&lt; AkInputMapSlot&lt; KEY, USER_DATA &gt;, const AkInputMapSlot&lt; KEY, USER_DATA &gt; &amp;, AkPluginArrayAllocator &gt;::Begin</a></div><div class="ttdeci">Iterator Begin() const</div><div class="ttdoc">Returns the iterator to the first item of the array, will be End() if the array is empty.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_array_8h_source.html#l00344">AkArray.h:344</a></div></div>
<div class="ttc" id="astruct_ak_positioning_data_a835e6eabecf9ecdf86fbf58bfe99d47b_html_a835e6eabecf9ecdf86fbf58bfe99d47b"><div class="ttname"><a href="struct_ak_positioning_data_a835e6eabecf9ecdf86fbf58bfe99d47b.html#a835e6eabecf9ecdf86fbf58bfe99d47b">AkPositioningData::threeD</a></div><div class="ttdeci">Ak3dData threeD</div><div class="ttdoc">3D data used for 3D spatialization.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00289">AkCommonDefs.h:289</a></div></div>
<div class="ttc" id="aclass_ak_transform_a5213b68637f2d661c1cd811af22bee7d_html_a5213b68637f2d661c1cd811af22bee7d"><div class="ttname"><a href="class_ak_transform_a5213b68637f2d661c1cd811af22bee7d.html#a5213b68637f2d661c1cd811af22bee7d">AkTransform::SetPosition</a></div><div class="ttdeci">void SetPosition(const AkVector &amp;in_position)</div><div class="ttdoc">Set position.</div><div class="ttdef"><b>Definition:</b> <a href="_common_2_ak_types_8h_source.html#l00678">AkTypes.h:678</a></div></div>
<div class="ttc" id="astruct_ak_audio_objects_html"><div class="ttname"><a href="struct_ak_audio_objects.html">AkAudioObjects</a></div><div class="ttdoc">A collection of audio objects. Encapsulates the audio data and metadata of each audio object in separ...</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00659">AkCommonDefs.h:660</a></div></div>
<div class="ttc" id="astruct_ak_channel_config_a4c0f4b3d39608a10c9b330c1ef8281a7_html_a4c0f4b3d39608a10c9b330c1ef8281a7"><div class="ttname"><a href="struct_ak_channel_config_a4c0f4b3d39608a10c9b330c1ef8281a7.html#a4c0f4b3d39608a10c9b330c1ef8281a7">AkChannelConfig::SetStandard</a></div><div class="ttdeci">AkForceInline void SetStandard(AkUInt32 in_uChannelMask)</div><div class="ttdoc">Set channel config as a standard configuration specified with given channel mask.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_speaker_config_8h_source.html#l00563">AkSpeakerConfig.h:563</a></div></div>
<div class="ttc" id="anamespace_a_k_1_1_speaker_volumes_a298ce328dab73cd7e5e2c96449832eb5_html_a298ce328dab73cd7e5e2c96449832eb5"><div class="ttname"><a href="namespace_a_k_1_1_speaker_volumes_a298ce328dab73cd7e5e2c96449832eb5.html#a298ce328dab73cd7e5e2c96449832eb5">AK::SpeakerVolumes::MatrixPtr</a></div><div class="ttdeci">AkReal32 * MatrixPtr</div><div class="ttdoc">Volume matrix. Access each input channel vector with AK::SpeakerVolumes::Matrix::GetChannel().</div><div class="ttdef"><b>Definition:</b> <a href="_ak_speaker_volumes_8h_source.html#l00049">AkSpeakerVolumes.h:49</a></div></div>
<div class="ttc" id="a_common_2_ak_types_8h_a3598689e020ab61ab57c360cbb381b47_html_a3598689e020ab61ab57c360cbb381b47a1564e597be0cedb081025e92cd29aad2"><div class="ttname"><a href="_common_2_ak_types_8h_a3598689e020ab61ab57c360cbb381b47.html#a3598689e020ab61ab57c360cbb381b47a1564e597be0cedb081025e92cd29aad2">AK_SpatializationMode_None</a></div><div class="ttdeci">@ AK_SpatializationMode_None</div><div class="ttdoc">No spatialization.</div><div class="ttdef"><b>Definition:</b> <a href="_common_2_ak_types_8h_source.html#l01218">AkTypes.h:1218</a></div></div>
<div class="ttc" id="a_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce_html_a39c6c5d577901802ca77775760b704ce"><div class="ttname"><a href="_ak_numeral_types_8h_a39c6c5d577901802ca77775760b704ce.html#a39c6c5d577901802ca77775760b704ce">AkUInt32</a></div><div class="ttdeci">uint32_t AkUInt32</div><div class="ttdoc">Unsigned 32-bit integer.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_numeral_types_8h_source.html#l00038">AkNumeralTypes.h:38</a></div></div>
<div class="ttc" id="astruct_ak_channel_config_a598c4a4489e9fb252e7022ae99135674_html_a598c4a4489e9fb252e7022ae99135674"><div class="ttname"><a href="struct_ak_channel_config_a598c4a4489e9fb252e7022ae99135674.html#a598c4a4489e9fb252e7022ae99135674">AkChannelConfig::eConfigType</a></div><div class="ttdeci">AkUInt32 eConfigType</div><div class="ttdoc">Channel config type (AkChannelConfigType).</div><div class="ttdef"><b>Definition:</b> <a href="_ak_speaker_config_8h_source.html#l00502">AkSpeakerConfig.h:502</a></div></div>
<div class="ttc" id="aclass_a_k_1_1_i_ak_effect_plugin_context_a96f65eb02b520f2ca5af497e645971a0_html_a96f65eb02b520f2ca5af497e645971a0"><div class="ttname"><a href="class_a_k_1_1_i_ak_effect_plugin_context_a96f65eb02b520f2ca5af497e645971a0.html#a96f65eb02b520f2ca5af497e645971a0">AK::IAkEffectPluginContext::CreateOutputObjects</a></div><div class="ttdeci">virtual AKRESULT CreateOutputObjects(AkChannelConfig in_channelConfig, AkAudioObjects &amp;io_objects)=0</div></div>
<div class="ttc" id="aclass_ak_audio_buffer_html"><div class="ttname"><a href="class_ak_audio_buffer.html">AkAudioBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00462">AkCommonDefs.h:463</a></div></div>
<div class="ttc" id="astruct_ak_vector_html"><div class="ttname"><a href="struct_ak_vector.html">AkVector</a></div><div class="ttdoc">3D vector for some operations in 3D space. Typically intended only for localized calculations due to ...</div><div class="ttdef"><b>Definition:</b> <a href="_common_2_ak_types_8h_source.html#l00443">AkTypes.h:444</a></div></div>
<div class="ttc" id="a_win32_2_ak_platform_funcs_8h_aae886a30b939ee13e0abf036fa9e6a15_html_aae886a30b939ee13e0abf036fa9e6a15"><div class="ttname"><a href="_win32_2_ak_platform_funcs_8h_aae886a30b939ee13e0abf036fa9e6a15.html#aae886a30b939ee13e0abf036fa9e6a15">AkAlloca</a></div><div class="ttdeci">#define AkAlloca(_size_)</div><div class="ttdoc">Stack allocations.</div><div class="ttdef"><b>Definition:</b> <a href="_win32_2_ak_platform_funcs_8h_source.html#l00501">AkPlatformFuncs.h:501</a></div></div>
<div class="ttc" id="a_ak_speaker_config_8h_a472757ac65daebc42373c503d4c3c894_html_a472757ac65daebc42373c503d4c3c894"><div class="ttname"><a href="_ak_speaker_config_8h_a472757ac65daebc42373c503d4c3c894.html#a472757ac65daebc42373c503d4c3c894">AK_SPEAKER_SETUP_STEREO</a></div><div class="ttdeci">#define AK_SPEAKER_SETUP_STEREO</div><div class="ttdoc">2.0 setup channel mask</div><div class="ttdef"><b>Definition:</b> <a href="_ak_speaker_config_8h_source.html#l00060">AkSpeakerConfig.h:60</a></div></div>
<div class="ttc" id="aclass_ak_mixer_input_map_html"><div class="ttname"><a href="class_ak_mixer_input_map.html">AkMixerInputMap</a></div><div class="ttdoc">AkMixerInputMap: Map of inputs (identified with AK::IAkMixerInputContext *) to user-defined blocks of...</div><div class="ttdef"><b>Definition:</b> <a href="_ak_mixer_input_map_8h_source.html#l00073">AkMixerInputMap.h:74</a></div></div>
<div class="ttc" id="astruct_ak_audio_format_html"><div class="ttname"><a href="struct_ak_audio_format.html">AkAudioFormat</a></div><div class="ttdoc">Defines the parameters of an audio buffer format.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00061">AkCommonDefs.h:62</a></div></div>
<div class="ttc" id="aclass_a_k_1_1_i_ak_effect_plugin_context_html"><div class="ttname"><a href="class_a_k_1_1_i_ak_effect_plugin_context.html">AK::IAkEffectPluginContext</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_ak_plugin_8h_source.html#l00357">IAkPlugin.h:358</a></div></div>
<div class="ttc" id="a_common_2_ak_types_8h_a3598689e020ab61ab57c360cbb381b47_html_a3598689e020ab61ab57c360cbb381b47a9b2c6ba7e49798586faf1e54953c70d0"><div class="ttname"><a href="_common_2_ak_types_8h_a3598689e020ab61ab57c360cbb381b47.html#a3598689e020ab61ab57c360cbb381b47a9b2c6ba7e49798586faf1e54953c70d0">AK_SpatializationMode_PositionAndOrientation</a></div><div class="ttdeci">@ AK_SpatializationMode_PositionAndOrientation</div><div class="ttdoc">Spatialization based on both emitter position and emitter orientation.</div><div class="ttdef"><b>Definition:</b> <a href="_common_2_ak_types_8h_source.html#l01221">AkTypes.h:1220</a></div></div>
<div class="ttc" id="astruct_ak3d_data_a175ec6a58f0c97ab2070e23eb2b016db_html_a175ec6a58f0c97ab2070e23eb2b016db"><div class="ttname"><a href="struct_ak3d_data_a175ec6a58f0c97ab2070e23eb2b016db.html#a175ec6a58f0c97ab2070e23eb2b016db">Ak3dData::xform</a></div><div class="ttdeci">AkTransform xform</div><div class="ttdoc">Object position / orientation.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00256">AkCommonDefs.h:256</a></div></div>
<div class="ttc" id="astruct_ak_audio_objects_a4332a296e3e6d98688176aa460584853_html_a4332a296e3e6d98688176aa460584853"><div class="ttname"><a href="struct_ak_audio_objects_a4332a296e3e6d98688176aa460584853.html#a4332a296e3e6d98688176aa460584853">AkAudioObjects::ppObjects</a></div><div class="ttdeci">AkAudioObject ** ppObjects</div><div class="ttdoc">Array of pointers to audio objects.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00669">AkCommonDefs.h:669</a></div></div>
<div class="ttc" id="astruct_ak_behavioral_positioning_data_a135aef56c3da0d202058e13af30ff950_html_a135aef56c3da0d202058e13af30ff950"><div class="ttname"><a href="struct_ak_behavioral_positioning_data_a135aef56c3da0d202058e13af30ff950.html#a135aef56c3da0d202058e13af30ff950">AkBehavioralPositioningData::spatMode</a></div><div class="ttdeci">Ak3DSpatializationMode spatMode</div><div class="ttdoc">3D spatialization mode.</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00281">AkCommonDefs.h:281</a></div></div>
<div class="ttc" id="a_common_2_ak_types_8h_a1a77eb101e82e7d712f25e2a6394ac4c_html_a1a77eb101e82e7d712f25e2a6394ac4ca805da301d83f3e29583c5199ccb66f66"><div class="ttname"><a href="_common_2_ak_types_8h_a1a77eb101e82e7d712f25e2a6394ac4c.html#a1a77eb101e82e7d712f25e2a6394ac4ca805da301d83f3e29583c5199ccb66f66">AkPluginTypeMetadata</a></div><div class="ttdeci">@ AkPluginTypeMetadata</div><div class="ttdoc">Metadata plug-in: applies object-based processing to audio data.</div><div class="ttdef"><b>Definition:</b> <a href="_common_2_ak_types_8h_source.html#l01259">AkTypes.h:1259</a></div></div>
<div class="ttc" id="aclass_ak_audio_buffer_a537445dce6e3ed09dd2c337fd73c6b41_html_a537445dce6e3ed09dd2c337fd73c6b41"><div class="ttname"><a href="class_ak_audio_buffer_a537445dce6e3ed09dd2c337fd73c6b41.html#a537445dce6e3ed09dd2c337fd73c6b41">AkAudioBuffer::MaxFrames</a></div><div class="ttdeci">AkForceInline AkUInt16 MaxFrames() const</div><div class="ttdef"><b>Definition:</b> <a href="_ak_common_defs_8h_source.html#l00642">AkCommonDefs.h:642</a></div></div>
</body>
</html>
