<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Handling System-Specific Events</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="akdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wwise SDK 2023.1.0 - Windows
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Handling System-Specific Events </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Almost all operating systems have callbacks or notifications for the following events:</p><ul>
<li>Pressing Home button</li>
<li>Putting application in background/foreground</li>
<li>Starting/stopping user music</li>
</ul>
<p>These events are not handled automatically by Wwise. The main reason is that some of the OS APIs don't allow multiple callbacks or notification receivers. Therefore, the Wwise SDK needs to be told of those events to avoid "eating" those events instead of the game.</p>
<p>For information on how to handle user-music replacements, please read <a class="el" href="background_music_and_dvr.html">Handling User Music (BGM) and DVR</a>.</p>
<h1><a class="anchor" id="system_calls_background"></a>
Application in Background/Foreground</h1>
<p>In general, all game systems can put the application in the background for a time. Wwise can have three possible behaviors, depending on your preferences or the platform's requirements:</p><ul>
<li>Suspend all audio rendering: Call <a class="el" href="namespace_a_k_1_1_sound_engine_afc66d31bf5c6425d841ca3510e2d0539.html#afc66d31bf5c6425d841ca3510e2d0539">AK::SoundEngine::Suspend(false)</a> to do so.</li>
<li>Partially suspend (keep processing events, but don't render audio): Call <a class="el" href="namespace_a_k_1_1_sound_engine_afc66d31bf5c6425d841ca3510e2d0539.html#afc66d31bf5c6425d841ca3510e2d0539">AK::SoundEngine::Suspend(true)</a>. This is useful if your game still runs and sends calls to the sound engine.</li>
<li>Continue to play audio: There's nothing to do.</li>
</ul>
<p>In general, when the application is put in the background and <a class="el" href="namespace_a_k_1_1_sound_engine_afc66d31bf5c6425d841ca3510e2d0539.html#afc66d31bf5c6425d841ca3510e2d0539">Suspend(false)</a> is used, the game should not call any of the sound engine APIs. Posting events and such would work, but would accumulate and be played all at the same time when the system would be awoken. To resume the audio processing, call <a class="el" href="namespace_a_k_1_1_sound_engine_a9244da1d4d0deedcabdaaae863fcff47.html#a9244da1d4d0deedcabdaaae863fcff47">AK::SoundEngine::WakeupFromSuspend()</a> followed by a call to <a class="el" href="namespace_a_k_1_1_sound_engine_afe54af0f5be38be061e8a3c7d7642bb1.html#afe54af0f5be38be061e8a3c7d7642bb1">RenderAudio()</a> when receiving the proper notification from the system. You may queue up other events before calling <a class="el" href="namespace_a_k_1_1_sound_engine_afe54af0f5be38be061e8a3c7d7642bb1.html#afe54af0f5be38be061e8a3c7d7642bb1">RenderAudio()</a>.</p>
<p>You should read about each platform's requirements in the manufacturer's documentation to choose the right behavior.</p>
<div platform="Windows" open="1"></div> <h2><a class="anchor" id="system_calls_background_windows"></a>
Windows</h2>
<p>HWND is the handle of the window associated with the audio. Each game must specify the HWND of the application for device detection purposes. The value returned by GetDefaultPlatformInitSettings is the foreground HWND at the moment of the initialization of the sound engine and might not be the correct one for your game. Each game must provide the correct HWND to use.</p>
<div platform="Windows" open="0"></div> </div></div><!-- contents -->
</div><!-- PageDoc -->
</body>
</html>
