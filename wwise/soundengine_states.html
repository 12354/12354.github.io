<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Integration Details - States</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="akdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wwise SDK 2023.1.0 - Windows
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Integration Details - States </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="soundengine_states_intro"></a>
Introduction</h1>
<p>A state is a change that affects the audio properties on a global scale for all game objects. For every state group there can only be one current state, which is shared between all game objects.</p>
<p>For example, a state group could be:</p>
<ul>
<li>Weather</li>
</ul>
<p>And the different states of this group could be:</p>
<ul>
<li>Sunny</li>
<li>Rainy</li>
<li>Cloudy</li>
<li>None</li>
</ul>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Note.gif" alt="" class="inline"/></td><td><b>Note:</b> Every state group has a state called "None". The "None" state represents the initial state of the group, and cannot be removed. In the "None" state, no parameter changes have been applied. </td></tr>
</table>
<h1><a class="anchor" id="soundengine_states_system"></a>
The State System</h1>
<p>The state system is a powerful tool that can be used in many ways. It allows you to modify multiple parameters at a time for various objects (sounds, actor-mixers, busses, and so on). You can change the behavior of everything that is going on in the Sound Engine with one single command. However, while states are versatile, they are not the optimal solution for every situation. For example, consider a situation where quick parameter updates are needed for one single parameter for a small number of objects. In this case, using RTPC will be less resource-heavy and faster than using states.</p>
<h1><a class="anchor" id="soundengine_states_using"></a>
Using the State System</h1>
<p>Setting a state from the SDK is as simple as calling:</p>
<div class="fragment"><div class="line">AK::SoundEngine::SetState( L<span class="stringliteral">&quot;Weather&quot;</span>, L<span class="stringliteral">&quot;Sunny&quot;</span> );</div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line">AK::SoundEngine::SetState( AK::STATES::WEATHER::GROUP, AK::STATES::WEATHER::STATE::SUNNY );</div>
</div><!-- fragment --><h1><a class="anchor" id="soundengine_states_id"></a>
Identifying States</h1>
<p>There are two ways to set a state from the SDK: using strings (Unicode or Ansi) or using IDs.</p>
<p>Using strings makes code more readable and is suitable during development time, or when working in an environment that normally uses strings. Using IDs avoids Wwise from having to hash the names at runtime.</p>
<h1><a class="anchor" id="soundengine_states_enabling_ids"></a>
Enabling ID Usage</h1>
<p>To work with IDs, select the "Generate header file" option in the Wwise Generate SoundBanks dialog box. The definition file, named Wwise_IDs.h, contains all the required IDs. It is updated at each bank generation.</p>
<p>For an example of a header file, refer to <a class="el" href="soundengine_banks.html">Integration Details - Banks</a>.</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Caution.gif" alt="" class="inline"/></td><td><b>Caution:</b> When working with IDs, it is important to keep the .h file up-to-date when new banks are generated. Otherwise, ID mismatches and/or compilation errors may occur. </td></tr>
</table>
<p>For more information on generating banks with Wwise, refer to the Wwise Help.</p>
<h1><a class="anchor" id="soundengine_states_driving"></a>
Driving States</h1>
<p>You have two options to drive states: The SDK <code>AK::SoundEngine::SetState()</code> function, and the action "SetState" generated in Wwise. However, using both at once in the same state is problematic. For example, if sound designers introduce SetState Actions inside the Events they create while audio programmers drive States using the SDK <code>AK::SoundEngine::SetState()</code> function, the States may become difficult to control. We strongly recommend that sound designers and audio programmers decide how the actual States will be driven, either for each State Group or for the entire project. Both ways can be used at once, if there is agreement on how States will change. For example, the audio programmers can initialize States using the SDK <code>SetState()</code> function, but leave the State to be driven by Events for the rest of the game.</p>
<table border="0" cellspacing="0" cellpadding="2">
<tr>
<td valign="top"><img src="images/Tip.gif" alt="" class="inline"/></td><td><b>Tip:</b> If a state behavior is the same for many sounds, you can give those sounds a common parent (such as an actor-mixer) and put the state settings there, instead of duplicating them in each sound. This will make it faster for the sound designer to edit settings. It will also reduce the memory required for storing state parameters, since they will be stored in one place instead of many. </td></tr>
</table>
<h1><a class="anchor" id="soundengine_states_transitions"></a>
State Transitions</h1>
<p>When a state change is triggered, if transitions have been defined, the transition from Parameter Value A to Parameter Value B will begin. A default transition time is applied to all parameters. Transition times can be defined in Wwise.</p>
<p>If the transition time is set to zero (that is, there is no transition time), there is no transition and the parameter value jumps directly to the target value. If the presence of a transition does not make the game sound better, the transition should be set to zero to save transition resources.</p>
<p>If a second state change is triggered while the previous state is still in transition, the new parameters will define the new target and the parameter will transit from the current value to the new target value using the new transition time. If a transition is interrupted, the current value will transit to the previous value. For example, if a state change to State 1 interrupts a transition from State 1 to State 2, the values change from their current settings back to State 1 using the new transition time.</p>
<div class="image">
<img src="SoundEngineStates_TransitionInterruption.gif" alt=""/>
</div>
<p>State transition time is ignored for Boolean type parameters, and for state-driving switch containers. Switch containers have their own options that drive what happens on state or switch changes.</p>
<p>For an example of integrating states, refer to State Example.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="concept_state.html">Concept: States</a>, <a class="el" href="soundengine_gameobj.html">Integration Details - Game Objects</a>, <a class="el" href="soundengine_switch.html">Integration Details - Switches</a>, AK::SoundEngine::SetState() </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="anamespace_a_k_1_1_sound_engine_a68dc9be195962c671b82fbb354b68cc5_html_a68dc9be195962c671b82fbb354b68cc5"><div class="ttname">AK::SoundEngine::SetState</div><div class="ttdeci">AKSOUNDENGINE_API AKRESULT SetState(AkStateGroupID in_stateGroup, AkStateID in_state)</div></div>
</body>
</html>

